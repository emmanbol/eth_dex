import{r as mn,c as $,o as S,g as Wn}from"./index-Dnr1qd9P.js";import{u as la}from"./url-BxDZqAfI.js";function ha(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var $n={},Un={},ri={exports:{}};ri.exports;(function(n){(function(t,e){function r(g,s){if(!g)throw new Error(s||"Assertion failed")}function i(g,s){g.super_=s;var c=function(){};c.prototype=s.prototype,g.prototype=new c,g.prototype.constructor=g}function o(g,s,c){if(o.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((s==="le"||s==="be")&&(c=s,s=10),this._init(g||0,s||10,c||"be"))}typeof t=="object"?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var a;try{a=mn.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,c){return s.cmp(c)>0?s:c},o.min=function(s,c){return s.cmp(c)<0?s:c},o.prototype._init=function(s,c,h){if(typeof s=="number")return this._initNumber(s,c,h);if(typeof s=="object")return this._initArray(s,c,h);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),s=s.toString().replace(/\s+/g,"");var d=0;s[0]==="-"&&d++,c===16?this._parseHex(s,d):this._parseBase(s,c,d),s[0]==="-"&&(this.negative=1),this._strip(),h==="le"&&this._initArray(this.toArray(),c,h)},o.prototype._initNumber=function(s,c,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),c,h)},o.prototype._initArray=function(s,c,h){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var v,y,w=0;if(h==="be")for(d=s.length-1,v=0;d>=0;d-=3)y=s[d]|s[d-1]<<8|s[d-2]<<16,this.words[v]|=y<<w&67108863,this.words[v+1]=y>>>26-w&67108863,w+=24,w>=26&&(w-=26,v++);else if(h==="le")for(d=0,v=0;d<s.length;d+=3)y=s[d]|s[d+1]<<8|s[d+2]<<16,this.words[v]|=y<<w&67108863,this.words[v+1]=y>>>26-w&67108863,w+=24,w>=26&&(w-=26,v++);return this._strip()};function l(g,s,c){for(var h=0,d=Math.min(g.length,c),v=0,y=s;y<d;y++){var w=g.charCodeAt(y)-48;h<<=4;var f;w>=49&&w<=54?f=w-49+10:w>=17&&w<=22?f=w-17+10:f=w,h|=f,v|=f}return r(!(v&240),"Invalid character in "+g),h}o.prototype._parseHex=function(s,c){this.length=Math.ceil((s.length-c)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,v,y=0;for(h=s.length-6,d=0;h>=c;h-=6)v=l(s,h,h+6),this.words[d]|=v<<y&67108863,this.words[d+1]|=v>>>26-y&4194303,y+=24,y>=26&&(y-=26,d++);h+6!==c&&(v=l(s,c,h+6),this.words[d]|=v<<y&67108863,this.words[d+1]|=v>>>26-y&4194303),this._strip()};function b(g,s,c,h){for(var d=0,v=0,y=Math.min(g.length,c),w=s;w<y;w++){var f=g.charCodeAt(w)-48;d*=h,f>=49?v=f-49+10:f>=17?v=f-17+10:v=f,r(f>=0&&v<h,"Invalid character"),d+=v}return d}o.prototype._parseBase=function(s,c,h){this.words=[0],this.length=1;for(var d=0,v=1;v<=67108863;v*=c)d++;d--,v=v/c|0;for(var y=s.length-h,w=y%d,f=Math.min(y,y-w)+h,u=0,p=h;p<f;p+=d)u=b(s,p,p+d,c),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(w!==0){var C=1;for(u=b(s,p,s.length,c),p=0;p<w;p++)C*=c;this.imuln(C),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(s){s.words=new Array(this.length);for(var c=0;c<this.length;c++)s.words[c]=this.words[c];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(g,s){g.words=s.words,g.length=s.length,g.negative=s.negative,g.red=s.red}if(o.prototype._move=function(s){_(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{o.prototype.inspect=m}else o.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,c){s=s||10,c=c|0||1;var h;if(s===16||s==="hex"){h="";for(var d=0,v=0,y=0;y<this.length;y++){var w=this.words[y],f=((w<<d|v)&16777215).toString(16);v=w>>>24-d&16777215,v!==0||y!==this.length-1?h=M[6-f.length]+f+h:h=f+h,d+=2,d>=26&&(d-=26,y--)}for(v!==0&&(h=v.toString(16)+h);h.length%c!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(s===(s|0)&&s>=2&&s<=36){var u=x[s],p=k[s];h="";var C=this.clone();for(C.negative=0;!C.isZero();){var T=C.modrn(p).toString(s);C=C.idivn(p),C.isZero()?h=T+h:h=M[u-T.length]+T+h}for(this.isZero()&&(h="0"+h);h.length%c!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(s,c){return this.toArrayLike(a,s,c)}),o.prototype.toArray=function(s,c){return this.toArrayLike(Array,s,c)};var N=function(s,c){return s.allocUnsafe?s.allocUnsafe(c):new s(c)};o.prototype.toArrayLike=function(s,c,h){this._strip();var d=this.byteLength(),v=h||Math.max(1,d);r(d<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var y=N(s,v),w=c==="le"?"LE":"BE";return this["_toArrayLike"+w](y,d),y},o.prototype._toArrayLikeLE=function(s,c){for(var h=0,d=0,v=0,y=0;v<this.length;v++){var w=this.words[v]<<y|d;s[h++]=w&255,h<s.length&&(s[h++]=w>>8&255),h<s.length&&(s[h++]=w>>16&255),y===6?(h<s.length&&(s[h++]=w>>24&255),d=0,y=0):(d=w>>>24,y+=2)}if(h<s.length)for(s[h++]=d;h<s.length;)s[h++]=0},o.prototype._toArrayLikeBE=function(s,c){for(var h=s.length-1,d=0,v=0,y=0;v<this.length;v++){var w=this.words[v]<<y|d;s[h--]=w&255,h>=0&&(s[h--]=w>>8&255),h>=0&&(s[h--]=w>>16&255),y===6?(h>=0&&(s[h--]=w>>24&255),d=0,y=0):(d=w>>>24,y+=2)}if(h>=0)for(s[h--]=d;h>=0;)s[h--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var c=s,h=0;return c>=4096&&(h+=13,c>>>=13),c>=64&&(h+=7,c>>>=7),c>=8&&(h+=4,c>>>=4),c>=2&&(h+=2,c>>>=2),h+c},o.prototype._zeroBits=function(s){if(s===0)return 26;var c=s,h=0;return c&8191||(h+=13,c>>>=13),c&127||(h+=7,c>>>=7),c&15||(h+=4,c>>>=4),c&3||(h+=2,c>>>=2),c&1||h++,h},o.prototype.bitLength=function(){var s=this.words[this.length-1],c=this._countBits(s);return(this.length-1)*26+c};function L(g){for(var s=new Array(g.bitLength()),c=0;c<s.length;c++){var h=c/26|0,d=c%26;s[c]=g.words[h]>>>d&1}return s}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,c=0;c<this.length;c++){var h=this._zeroBits(this.words[c]);if(s+=h,h!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var c=0;c<s.length;c++)this.words[c]=this.words[c]|s.words[c];return this._strip()},o.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var c;this.length>s.length?c=s:c=this;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=c.length,this._strip()},o.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var c,h;this.length>s.length?(c=this,h=s):(c=s,h=this);for(var d=0;d<h.length;d++)this.words[d]=c.words[d]^h.words[d];if(this!==c)for(;d<c.length;d++)this.words[d]=c.words[d];return this.length=c.length,this._strip()},o.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var c=Math.ceil(s/26)|0,h=s%26;this._expand(c),h>0&&c--;for(var d=0;d<c;d++)this.words[d]=~this.words[d]&67108863;return h>0&&(this.words[d]=~this.words[d]&67108863>>26-h),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,c){r(typeof s=="number"&&s>=0);var h=s/26|0,d=s%26;return this._expand(h+1),c?this.words[h]=this.words[h]|1<<d:this.words[h]=this.words[h]&~(1<<d),this._strip()},o.prototype.iadd=function(s){var c;if(this.negative!==0&&s.negative===0)return this.negative=0,c=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,c=this.isub(s),s.negative=1,c._normSign();var h,d;this.length>s.length?(h=this,d=s):(h=s,d=this);for(var v=0,y=0;y<d.length;y++)c=(h.words[y]|0)+(d.words[y]|0)+v,this.words[y]=c&67108863,v=c>>>26;for(;v!==0&&y<h.length;y++)c=(h.words[y]|0)+v,this.words[y]=c&67108863,v=c>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},o.prototype.add=function(s){var c;return s.negative!==0&&this.negative===0?(s.negative=0,c=this.sub(s),s.negative^=1,c):s.negative===0&&this.negative!==0?(this.negative=0,c=s.sub(this),this.negative=1,c):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var c=this.iadd(s);return s.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var h=this.cmp(s);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,v;h>0?(d=this,v=s):(d=s,v=this);for(var y=0,w=0;w<v.length;w++)c=(d.words[w]|0)-(v.words[w]|0)+y,y=c>>26,this.words[w]=c&67108863;for(;y!==0&&w<d.length;w++)c=(d.words[w]|0)+y,y=c>>26,this.words[w]=c&67108863;if(y===0&&w<d.length&&d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=Math.max(this.length,w),d!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function R(g,s,c){c.negative=s.negative^g.negative;var h=g.length+s.length|0;c.length=h,h=h-1|0;var d=g.words[0]|0,v=s.words[0]|0,y=d*v,w=y&67108863,f=y/67108864|0;c.words[0]=w;for(var u=1;u<h;u++){for(var p=f>>>26,C=f&67108863,T=Math.min(u,s.length-1),I=Math.max(0,u-g.length+1);I<=T;I++){var Lt=u-I|0;d=g.words[Lt]|0,v=s.words[I]|0,y=d*v+C,p+=y/67108864|0,C=y&67108863}c.words[u]=C|0,f=p|0}return f!==0?c.words[u]=f|0:c.length--,c._strip()}var D=function(s,c,h){var d=s.words,v=c.words,y=h.words,w=0,f,u,p,C=d[0]|0,T=C&8191,I=C>>>13,Lt=d[1]|0,F=Lt&8191,j=Lt>>>13,kn=d[2]|0,pt=kn&8191,bt=kn>>>13,Mn=d[3]|0,vt=Mn&8191,gt=Mn>>>13,En=d[4]|0,mt=En&8191,yt=En>>>13,Tn=d[5]|0,wt=Tn&8191,_t=Tn>>>13,Cn=d[6]|0,xt=Cn&8191,St=Cn>>>13,In=d[7]|0,kt=In&8191,Mt=In>>>13,On=d[8]|0,q=On&8191,V=On>>>13,Ge=d[9]|0,z=Ge&8191,H=Ge>>>13,Qe=v[0]|0,K=Qe&8191,G=Qe>>>13,Ye=v[1]|0,Q=Ye&8191,Y=Ye>>>13,Je=v[2]|0,J=Je&8191,Z=Je>>>13,Ze=v[3]|0,X=Ze&8191,tt=Ze>>>13,Xe=v[4]|0,et=Xe&8191,nt=Xe>>>13,tn=v[5]|0,rt=tn&8191,it=tn>>>13,en=v[6]|0,ot=en&8191,st=en>>>13,nn=v[7]|0,at=nn&8191,ut=nn>>>13,rn=v[8]|0,ct=rn&8191,lt=rn>>>13,on=v[9]|0,ht=on&8191,ft=on>>>13;h.negative=s.negative^c.negative,h.length=19,f=Math.imul(T,K),u=Math.imul(T,G),u=u+Math.imul(I,K)|0,p=Math.imul(I,G);var ke=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(ke>>>26)|0,ke&=67108863,f=Math.imul(F,K),u=Math.imul(F,G),u=u+Math.imul(j,K)|0,p=Math.imul(j,G),f=f+Math.imul(T,Q)|0,u=u+Math.imul(T,Y)|0,u=u+Math.imul(I,Q)|0,p=p+Math.imul(I,Y)|0;var Me=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Me>>>26)|0,Me&=67108863,f=Math.imul(pt,K),u=Math.imul(pt,G),u=u+Math.imul(bt,K)|0,p=Math.imul(bt,G),f=f+Math.imul(F,Q)|0,u=u+Math.imul(F,Y)|0,u=u+Math.imul(j,Q)|0,p=p+Math.imul(j,Y)|0,f=f+Math.imul(T,J)|0,u=u+Math.imul(T,Z)|0,u=u+Math.imul(I,J)|0,p=p+Math.imul(I,Z)|0;var Ee=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,f=Math.imul(vt,K),u=Math.imul(vt,G),u=u+Math.imul(gt,K)|0,p=Math.imul(gt,G),f=f+Math.imul(pt,Q)|0,u=u+Math.imul(pt,Y)|0,u=u+Math.imul(bt,Q)|0,p=p+Math.imul(bt,Y)|0,f=f+Math.imul(F,J)|0,u=u+Math.imul(F,Z)|0,u=u+Math.imul(j,J)|0,p=p+Math.imul(j,Z)|0,f=f+Math.imul(T,X)|0,u=u+Math.imul(T,tt)|0,u=u+Math.imul(I,X)|0,p=p+Math.imul(I,tt)|0;var Te=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Te>>>26)|0,Te&=67108863,f=Math.imul(mt,K),u=Math.imul(mt,G),u=u+Math.imul(yt,K)|0,p=Math.imul(yt,G),f=f+Math.imul(vt,Q)|0,u=u+Math.imul(vt,Y)|0,u=u+Math.imul(gt,Q)|0,p=p+Math.imul(gt,Y)|0,f=f+Math.imul(pt,J)|0,u=u+Math.imul(pt,Z)|0,u=u+Math.imul(bt,J)|0,p=p+Math.imul(bt,Z)|0,f=f+Math.imul(F,X)|0,u=u+Math.imul(F,tt)|0,u=u+Math.imul(j,X)|0,p=p+Math.imul(j,tt)|0,f=f+Math.imul(T,et)|0,u=u+Math.imul(T,nt)|0,u=u+Math.imul(I,et)|0,p=p+Math.imul(I,nt)|0;var Ce=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,f=Math.imul(wt,K),u=Math.imul(wt,G),u=u+Math.imul(_t,K)|0,p=Math.imul(_t,G),f=f+Math.imul(mt,Q)|0,u=u+Math.imul(mt,Y)|0,u=u+Math.imul(yt,Q)|0,p=p+Math.imul(yt,Y)|0,f=f+Math.imul(vt,J)|0,u=u+Math.imul(vt,Z)|0,u=u+Math.imul(gt,J)|0,p=p+Math.imul(gt,Z)|0,f=f+Math.imul(pt,X)|0,u=u+Math.imul(pt,tt)|0,u=u+Math.imul(bt,X)|0,p=p+Math.imul(bt,tt)|0,f=f+Math.imul(F,et)|0,u=u+Math.imul(F,nt)|0,u=u+Math.imul(j,et)|0,p=p+Math.imul(j,nt)|0,f=f+Math.imul(T,rt)|0,u=u+Math.imul(T,it)|0,u=u+Math.imul(I,rt)|0,p=p+Math.imul(I,it)|0;var Ie=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,f=Math.imul(xt,K),u=Math.imul(xt,G),u=u+Math.imul(St,K)|0,p=Math.imul(St,G),f=f+Math.imul(wt,Q)|0,u=u+Math.imul(wt,Y)|0,u=u+Math.imul(_t,Q)|0,p=p+Math.imul(_t,Y)|0,f=f+Math.imul(mt,J)|0,u=u+Math.imul(mt,Z)|0,u=u+Math.imul(yt,J)|0,p=p+Math.imul(yt,Z)|0,f=f+Math.imul(vt,X)|0,u=u+Math.imul(vt,tt)|0,u=u+Math.imul(gt,X)|0,p=p+Math.imul(gt,tt)|0,f=f+Math.imul(pt,et)|0,u=u+Math.imul(pt,nt)|0,u=u+Math.imul(bt,et)|0,p=p+Math.imul(bt,nt)|0,f=f+Math.imul(F,rt)|0,u=u+Math.imul(F,it)|0,u=u+Math.imul(j,rt)|0,p=p+Math.imul(j,it)|0,f=f+Math.imul(T,ot)|0,u=u+Math.imul(T,st)|0,u=u+Math.imul(I,ot)|0,p=p+Math.imul(I,st)|0;var Oe=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,f=Math.imul(kt,K),u=Math.imul(kt,G),u=u+Math.imul(Mt,K)|0,p=Math.imul(Mt,G),f=f+Math.imul(xt,Q)|0,u=u+Math.imul(xt,Y)|0,u=u+Math.imul(St,Q)|0,p=p+Math.imul(St,Y)|0,f=f+Math.imul(wt,J)|0,u=u+Math.imul(wt,Z)|0,u=u+Math.imul(_t,J)|0,p=p+Math.imul(_t,Z)|0,f=f+Math.imul(mt,X)|0,u=u+Math.imul(mt,tt)|0,u=u+Math.imul(yt,X)|0,p=p+Math.imul(yt,tt)|0,f=f+Math.imul(vt,et)|0,u=u+Math.imul(vt,nt)|0,u=u+Math.imul(gt,et)|0,p=p+Math.imul(gt,nt)|0,f=f+Math.imul(pt,rt)|0,u=u+Math.imul(pt,it)|0,u=u+Math.imul(bt,rt)|0,p=p+Math.imul(bt,it)|0,f=f+Math.imul(F,ot)|0,u=u+Math.imul(F,st)|0,u=u+Math.imul(j,ot)|0,p=p+Math.imul(j,st)|0,f=f+Math.imul(T,at)|0,u=u+Math.imul(T,ut)|0,u=u+Math.imul(I,at)|0,p=p+Math.imul(I,ut)|0;var Ne=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,f=Math.imul(q,K),u=Math.imul(q,G),u=u+Math.imul(V,K)|0,p=Math.imul(V,G),f=f+Math.imul(kt,Q)|0,u=u+Math.imul(kt,Y)|0,u=u+Math.imul(Mt,Q)|0,p=p+Math.imul(Mt,Y)|0,f=f+Math.imul(xt,J)|0,u=u+Math.imul(xt,Z)|0,u=u+Math.imul(St,J)|0,p=p+Math.imul(St,Z)|0,f=f+Math.imul(wt,X)|0,u=u+Math.imul(wt,tt)|0,u=u+Math.imul(_t,X)|0,p=p+Math.imul(_t,tt)|0,f=f+Math.imul(mt,et)|0,u=u+Math.imul(mt,nt)|0,u=u+Math.imul(yt,et)|0,p=p+Math.imul(yt,nt)|0,f=f+Math.imul(vt,rt)|0,u=u+Math.imul(vt,it)|0,u=u+Math.imul(gt,rt)|0,p=p+Math.imul(gt,it)|0,f=f+Math.imul(pt,ot)|0,u=u+Math.imul(pt,st)|0,u=u+Math.imul(bt,ot)|0,p=p+Math.imul(bt,st)|0,f=f+Math.imul(F,at)|0,u=u+Math.imul(F,ut)|0,u=u+Math.imul(j,at)|0,p=p+Math.imul(j,ut)|0,f=f+Math.imul(T,ct)|0,u=u+Math.imul(T,lt)|0,u=u+Math.imul(I,ct)|0,p=p+Math.imul(I,lt)|0;var Ae=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,f=Math.imul(z,K),u=Math.imul(z,G),u=u+Math.imul(H,K)|0,p=Math.imul(H,G),f=f+Math.imul(q,Q)|0,u=u+Math.imul(q,Y)|0,u=u+Math.imul(V,Q)|0,p=p+Math.imul(V,Y)|0,f=f+Math.imul(kt,J)|0,u=u+Math.imul(kt,Z)|0,u=u+Math.imul(Mt,J)|0,p=p+Math.imul(Mt,Z)|0,f=f+Math.imul(xt,X)|0,u=u+Math.imul(xt,tt)|0,u=u+Math.imul(St,X)|0,p=p+Math.imul(St,tt)|0,f=f+Math.imul(wt,et)|0,u=u+Math.imul(wt,nt)|0,u=u+Math.imul(_t,et)|0,p=p+Math.imul(_t,nt)|0,f=f+Math.imul(mt,rt)|0,u=u+Math.imul(mt,it)|0,u=u+Math.imul(yt,rt)|0,p=p+Math.imul(yt,it)|0,f=f+Math.imul(vt,ot)|0,u=u+Math.imul(vt,st)|0,u=u+Math.imul(gt,ot)|0,p=p+Math.imul(gt,st)|0,f=f+Math.imul(pt,at)|0,u=u+Math.imul(pt,ut)|0,u=u+Math.imul(bt,at)|0,p=p+Math.imul(bt,ut)|0,f=f+Math.imul(F,ct)|0,u=u+Math.imul(F,lt)|0,u=u+Math.imul(j,ct)|0,p=p+Math.imul(j,lt)|0,f=f+Math.imul(T,ht)|0,u=u+Math.imul(T,ft)|0,u=u+Math.imul(I,ht)|0,p=p+Math.imul(I,ft)|0;var Re=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Re>>>26)|0,Re&=67108863,f=Math.imul(z,Q),u=Math.imul(z,Y),u=u+Math.imul(H,Q)|0,p=Math.imul(H,Y),f=f+Math.imul(q,J)|0,u=u+Math.imul(q,Z)|0,u=u+Math.imul(V,J)|0,p=p+Math.imul(V,Z)|0,f=f+Math.imul(kt,X)|0,u=u+Math.imul(kt,tt)|0,u=u+Math.imul(Mt,X)|0,p=p+Math.imul(Mt,tt)|0,f=f+Math.imul(xt,et)|0,u=u+Math.imul(xt,nt)|0,u=u+Math.imul(St,et)|0,p=p+Math.imul(St,nt)|0,f=f+Math.imul(wt,rt)|0,u=u+Math.imul(wt,it)|0,u=u+Math.imul(_t,rt)|0,p=p+Math.imul(_t,it)|0,f=f+Math.imul(mt,ot)|0,u=u+Math.imul(mt,st)|0,u=u+Math.imul(yt,ot)|0,p=p+Math.imul(yt,st)|0,f=f+Math.imul(vt,at)|0,u=u+Math.imul(vt,ut)|0,u=u+Math.imul(gt,at)|0,p=p+Math.imul(gt,ut)|0,f=f+Math.imul(pt,ct)|0,u=u+Math.imul(pt,lt)|0,u=u+Math.imul(bt,ct)|0,p=p+Math.imul(bt,lt)|0,f=f+Math.imul(F,ht)|0,u=u+Math.imul(F,ft)|0,u=u+Math.imul(j,ht)|0,p=p+Math.imul(j,ft)|0;var De=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(De>>>26)|0,De&=67108863,f=Math.imul(z,J),u=Math.imul(z,Z),u=u+Math.imul(H,J)|0,p=Math.imul(H,Z),f=f+Math.imul(q,X)|0,u=u+Math.imul(q,tt)|0,u=u+Math.imul(V,X)|0,p=p+Math.imul(V,tt)|0,f=f+Math.imul(kt,et)|0,u=u+Math.imul(kt,nt)|0,u=u+Math.imul(Mt,et)|0,p=p+Math.imul(Mt,nt)|0,f=f+Math.imul(xt,rt)|0,u=u+Math.imul(xt,it)|0,u=u+Math.imul(St,rt)|0,p=p+Math.imul(St,it)|0,f=f+Math.imul(wt,ot)|0,u=u+Math.imul(wt,st)|0,u=u+Math.imul(_t,ot)|0,p=p+Math.imul(_t,st)|0,f=f+Math.imul(mt,at)|0,u=u+Math.imul(mt,ut)|0,u=u+Math.imul(yt,at)|0,p=p+Math.imul(yt,ut)|0,f=f+Math.imul(vt,ct)|0,u=u+Math.imul(vt,lt)|0,u=u+Math.imul(gt,ct)|0,p=p+Math.imul(gt,lt)|0,f=f+Math.imul(pt,ht)|0,u=u+Math.imul(pt,ft)|0,u=u+Math.imul(bt,ht)|0,p=p+Math.imul(bt,ft)|0;var Pe=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,f=Math.imul(z,X),u=Math.imul(z,tt),u=u+Math.imul(H,X)|0,p=Math.imul(H,tt),f=f+Math.imul(q,et)|0,u=u+Math.imul(q,nt)|0,u=u+Math.imul(V,et)|0,p=p+Math.imul(V,nt)|0,f=f+Math.imul(kt,rt)|0,u=u+Math.imul(kt,it)|0,u=u+Math.imul(Mt,rt)|0,p=p+Math.imul(Mt,it)|0,f=f+Math.imul(xt,ot)|0,u=u+Math.imul(xt,st)|0,u=u+Math.imul(St,ot)|0,p=p+Math.imul(St,st)|0,f=f+Math.imul(wt,at)|0,u=u+Math.imul(wt,ut)|0,u=u+Math.imul(_t,at)|0,p=p+Math.imul(_t,ut)|0,f=f+Math.imul(mt,ct)|0,u=u+Math.imul(mt,lt)|0,u=u+Math.imul(yt,ct)|0,p=p+Math.imul(yt,lt)|0,f=f+Math.imul(vt,ht)|0,u=u+Math.imul(vt,ft)|0,u=u+Math.imul(gt,ht)|0,p=p+Math.imul(gt,ft)|0;var Be=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Be>>>26)|0,Be&=67108863,f=Math.imul(z,et),u=Math.imul(z,nt),u=u+Math.imul(H,et)|0,p=Math.imul(H,nt),f=f+Math.imul(q,rt)|0,u=u+Math.imul(q,it)|0,u=u+Math.imul(V,rt)|0,p=p+Math.imul(V,it)|0,f=f+Math.imul(kt,ot)|0,u=u+Math.imul(kt,st)|0,u=u+Math.imul(Mt,ot)|0,p=p+Math.imul(Mt,st)|0,f=f+Math.imul(xt,at)|0,u=u+Math.imul(xt,ut)|0,u=u+Math.imul(St,at)|0,p=p+Math.imul(St,ut)|0,f=f+Math.imul(wt,ct)|0,u=u+Math.imul(wt,lt)|0,u=u+Math.imul(_t,ct)|0,p=p+Math.imul(_t,lt)|0,f=f+Math.imul(mt,ht)|0,u=u+Math.imul(mt,ft)|0,u=u+Math.imul(yt,ht)|0,p=p+Math.imul(yt,ft)|0;var Le=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Le>>>26)|0,Le&=67108863,f=Math.imul(z,rt),u=Math.imul(z,it),u=u+Math.imul(H,rt)|0,p=Math.imul(H,it),f=f+Math.imul(q,ot)|0,u=u+Math.imul(q,st)|0,u=u+Math.imul(V,ot)|0,p=p+Math.imul(V,st)|0,f=f+Math.imul(kt,at)|0,u=u+Math.imul(kt,ut)|0,u=u+Math.imul(Mt,at)|0,p=p+Math.imul(Mt,ut)|0,f=f+Math.imul(xt,ct)|0,u=u+Math.imul(xt,lt)|0,u=u+Math.imul(St,ct)|0,p=p+Math.imul(St,lt)|0,f=f+Math.imul(wt,ht)|0,u=u+Math.imul(wt,ft)|0,u=u+Math.imul(_t,ht)|0,p=p+Math.imul(_t,ft)|0;var Fe=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,f=Math.imul(z,ot),u=Math.imul(z,st),u=u+Math.imul(H,ot)|0,p=Math.imul(H,st),f=f+Math.imul(q,at)|0,u=u+Math.imul(q,ut)|0,u=u+Math.imul(V,at)|0,p=p+Math.imul(V,ut)|0,f=f+Math.imul(kt,ct)|0,u=u+Math.imul(kt,lt)|0,u=u+Math.imul(Mt,ct)|0,p=p+Math.imul(Mt,lt)|0,f=f+Math.imul(xt,ht)|0,u=u+Math.imul(xt,ft)|0,u=u+Math.imul(St,ht)|0,p=p+Math.imul(St,ft)|0;var Or=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Or>>>26)|0,Or&=67108863,f=Math.imul(z,at),u=Math.imul(z,ut),u=u+Math.imul(H,at)|0,p=Math.imul(H,ut),f=f+Math.imul(q,ct)|0,u=u+Math.imul(q,lt)|0,u=u+Math.imul(V,ct)|0,p=p+Math.imul(V,lt)|0,f=f+Math.imul(kt,ht)|0,u=u+Math.imul(kt,ft)|0,u=u+Math.imul(Mt,ht)|0,p=p+Math.imul(Mt,ft)|0;var Nr=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,f=Math.imul(z,ct),u=Math.imul(z,lt),u=u+Math.imul(H,ct)|0,p=Math.imul(H,lt),f=f+Math.imul(q,ht)|0,u=u+Math.imul(q,ft)|0,u=u+Math.imul(V,ht)|0,p=p+Math.imul(V,ft)|0;var Ar=(w+f|0)+((u&8191)<<13)|0;w=(p+(u>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,f=Math.imul(z,ht),u=Math.imul(z,ft),u=u+Math.imul(H,ht)|0,p=Math.imul(H,ft);var Rr=(w+f|0)+((u&8191)<<13)|0;return w=(p+(u>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,y[0]=ke,y[1]=Me,y[2]=Ee,y[3]=Te,y[4]=Ce,y[5]=Ie,y[6]=Oe,y[7]=Ne,y[8]=Ae,y[9]=Re,y[10]=De,y[11]=Pe,y[12]=Be,y[13]=Le,y[14]=Fe,y[15]=Or,y[16]=Nr,y[17]=Ar,y[18]=Rr,w!==0&&(y[19]=w,h.length++),h};Math.imul||(D=R);function Rt(g,s,c){c.negative=s.negative^g.negative,c.length=g.length+s.length;for(var h=0,d=0,v=0;v<c.length-1;v++){var y=d;d=0;for(var w=h&67108863,f=Math.min(v,s.length-1),u=Math.max(0,v-g.length+1);u<=f;u++){var p=v-u,C=g.words[p]|0,T=s.words[u]|0,I=C*T,Lt=I&67108863;y=y+(I/67108864|0)|0,Lt=Lt+w|0,w=Lt&67108863,y=y+(Lt>>>26)|0,d+=y>>>26,y&=67108863}c.words[v]=w,h=y,y=d}return h!==0?c.words[v]=h:c.length--,c._strip()}function qt(g,s,c){return Rt(g,s,c)}o.prototype.mulTo=function(s,c){var h,d=this.length+s.length;return this.length===10&&s.length===10?h=D(this,s,c):d<63?h=R(this,s,c):d<1024?h=Rt(this,s,c):h=qt(this,s,c),h},o.prototype.mul=function(s){var c=new o(null);return c.words=new Array(this.length+s.length),this.mulTo(s,c)},o.prototype.mulf=function(s){var c=new o(null);return c.words=new Array(this.length+s.length),qt(this,s,c)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var c=s<0;c&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var h=0,d=0;d<this.length;d++){var v=(this.words[d]|0)*s,y=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=y>>>26,this.words[d]=y&67108863}return h!==0&&(this.words[d]=h,this.length++),c?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var c=L(s);if(c.length===0)return new o(1);for(var h=this,d=0;d<c.length&&c[d]===0;d++,h=h.sqr());if(++d<c.length)for(var v=h.sqr();d<c.length;d++,v=v.sqr())c[d]!==0&&(h=h.mul(v));return h},o.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var c=s%26,h=(s-c)/26,d=67108863>>>26-c<<26-c,v;if(c!==0){var y=0;for(v=0;v<this.length;v++){var w=this.words[v]&d,f=(this.words[v]|0)-w<<c;this.words[v]=f|y,y=w>>>26-c}y&&(this.words[v]=y,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},o.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,c,h){r(typeof s=="number"&&s>=0);var d;c?d=(c-c%26)/26:d=0;var v=s%26,y=Math.min((s-v)/26,this.length),w=67108863^67108863>>>v<<v,f=h;if(d-=y,d=Math.max(0,d),f){for(var u=0;u<y;u++)f.words[u]=this.words[u];f.length=y}if(y!==0)if(this.length>y)for(this.length-=y,u=0;u<this.length;u++)this.words[u]=this.words[u+y];else this.words[0]=0,this.length=1;var p=0;for(u=this.length-1;u>=0&&(p!==0||u>=d);u--){var C=this.words[u]|0;this.words[u]=p<<26-v|C>>>v,p=C&w}return f&&p!==0&&(f.words[f.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,c,h){return r(this.negative===0),this.iushrn(s,c,h)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var c=s%26,h=(s-c)/26,d=1<<c;if(this.length<=h)return!1;var v=this.words[h];return!!(v&d)},o.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var c=s%26,h=(s-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(c!==0&&h++,this.length=Math.min(h,this.length),c!==0){var d=67108863^67108863>>>c<<c;this.words[this.length-1]&=d}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},o.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,c,h){var d=s.length+h,v;this._expand(d);var y,w=0;for(v=0;v<s.length;v++){y=(this.words[v+h]|0)+w;var f=(s.words[v]|0)*c;y-=f&67108863,w=(y>>26)-(f/67108864|0),this.words[v+h]=y&67108863}for(;v<this.length-h;v++)y=(this.words[v+h]|0)+w,w=y>>26,this.words[v+h]=y&67108863;if(w===0)return this._strip();for(r(w===-1),w=0,v=0;v<this.length;v++)y=-(this.words[v]|0)+w,w=y>>26,this.words[v]=y&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,c){var h=this.length-s.length,d=this.clone(),v=s,y=v.words[v.length-1]|0,w=this._countBits(y);h=26-w,h!==0&&(v=v.ushln(h),d.iushln(h),y=v.words[v.length-1]|0);var f=d.length-v.length,u;if(c!=="mod"){u=new o(null),u.length=f+1,u.words=new Array(u.length);for(var p=0;p<u.length;p++)u.words[p]=0}var C=d.clone()._ishlnsubmul(v,1,f);C.negative===0&&(d=C,u&&(u.words[f]=1));for(var T=f-1;T>=0;T--){var I=(d.words[v.length+T]|0)*67108864+(d.words[v.length+T-1]|0);for(I=Math.min(I/y|0,67108863),d._ishlnsubmul(v,I,T);d.negative!==0;)I--,d.negative=0,d._ishlnsubmul(v,1,T),d.isZero()||(d.negative^=1);u&&(u.words[T]=I)}return u&&u._strip(),d._strip(),c!=="div"&&h!==0&&d.iushrn(h),{div:u||null,mod:d}},o.prototype.divmod=function(s,c,h){if(r(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var d,v,y;return this.negative!==0&&s.negative===0?(y=this.neg().divmod(s,c),c!=="mod"&&(d=y.div.neg()),c!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.iadd(s)),{div:d,mod:v}):this.negative===0&&s.negative!==0?(y=this.divmod(s.neg(),c),c!=="mod"&&(d=y.div.neg()),{div:d,mod:y.mod}):this.negative&s.negative?(y=this.neg().divmod(s.neg(),c),c!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.isub(s)),{div:y.div,mod:v}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?c==="div"?{div:this.divn(s.words[0]),mod:null}:c==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,c)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var c=this.divmod(s);if(c.mod.isZero())return c.div;var h=c.div.negative!==0?c.mod.isub(s):c.mod,d=s.ushrn(1),v=s.andln(1),y=h.cmp(d);return y<0||v===1&&y===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},o.prototype.modrn=function(s){var c=s<0;c&&(s=-s),r(s<=67108863);for(var h=(1<<26)%s,d=0,v=this.length-1;v>=0;v--)d=(h*d+(this.words[v]|0))%s;return c?-d:d},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var c=s<0;c&&(s=-s),r(s<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var v=(this.words[d]|0)+h*67108864;this.words[d]=v/s|0,h=v%s}return this._strip(),c?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var c=this,h=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new o(1),v=new o(0),y=new o(0),w=new o(1),f=0;c.isEven()&&h.isEven();)c.iushrn(1),h.iushrn(1),++f;for(var u=h.clone(),p=c.clone();!c.isZero();){for(var C=0,T=1;!(c.words[0]&T)&&C<26;++C,T<<=1);if(C>0)for(c.iushrn(C);C-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(u),v.isub(p)),d.iushrn(1),v.iushrn(1);for(var I=0,Lt=1;!(h.words[0]&Lt)&&I<26;++I,Lt<<=1);if(I>0)for(h.iushrn(I);I-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(u),w.isub(p)),y.iushrn(1),w.iushrn(1);c.cmp(h)>=0?(c.isub(h),d.isub(y),v.isub(w)):(h.isub(c),y.isub(d),w.isub(v))}return{a:y,b:w,gcd:h.iushln(f)}},o.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var c=this,h=s.clone();c.negative!==0?c=c.umod(s):c=c.clone();for(var d=new o(1),v=new o(0),y=h.clone();c.cmpn(1)>0&&h.cmpn(1)>0;){for(var w=0,f=1;!(c.words[0]&f)&&w<26;++w,f<<=1);if(w>0)for(c.iushrn(w);w-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);for(var u=0,p=1;!(h.words[0]&p)&&u<26;++u,p<<=1);if(u>0)for(h.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);c.cmp(h)>=0?(c.isub(h),d.isub(v)):(h.isub(c),v.isub(d))}var C;return c.cmpn(1)===0?C=d:C=v,C.cmpn(0)<0&&C.iadd(s),C},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var c=this.clone(),h=s.clone();c.negative=0,h.negative=0;for(var d=0;c.isEven()&&h.isEven();d++)c.iushrn(1),h.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=c.cmp(h);if(v<0){var y=c;c=h,h=y}else if(v===0||h.cmpn(1)===0)break;c.isub(h)}while(!0);return h.iushln(d)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){r(typeof s=="number");var c=s%26,h=(s-c)/26,d=1<<c;if(this.length<=h)return this._expand(h+1),this.words[h]|=d,this;for(var v=d,y=h;v!==0&&y<this.length;y++){var w=this.words[y]|0;w+=v,v=w>>>26,w&=67108863,this.words[y]=w}return v!==0&&(this.words[y]=v,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var c=s<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var h;if(this.length>1)h=1;else{c&&(s=-s),r(s<=67108863,"Number is too big");var d=this.words[0]|0;h=d===s?0:d<s?-1:1}return this.negative!==0?-h|0:h},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var c=this.ucmp(s);return this.negative!==0?-c|0:c},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var c=0,h=this.length-1;h>=0;h--){var d=this.words[h]|0,v=s.words[h]|0;if(d!==v){d<v?c=-1:d>v&&(c=1);break}}return c},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new B(s)},o.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var It={k256:null,p224:null,p192:null,p25519:null};function Pt(g,s){this.name=g,this.p=new o(s,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Pt.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},Pt.prototype.ireduce=function(s){var c=s,h;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),h=c.bitLength();while(h>this.n);var d=h<this.n?-1:c.ucmp(this.p);return d===0?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Pt.prototype.split=function(s,c){s.iushrn(this.n,0,c)},Pt.prototype.imulK=function(s){return s.imul(this.k)};function Bt(){Pt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Bt,Pt),Bt.prototype.split=function(s,c){for(var h=4194303,d=Math.min(s.length,9),v=0;v<d;v++)c.words[v]=s.words[v];if(c.length=d,s.length<=9){s.words[0]=0,s.length=1;return}var y=s.words[9];for(c.words[c.length++]=y&h,v=10;v<s.length;v++){var w=s.words[v]|0;s.words[v-10]=(w&h)<<4|y>>>22,y=w}y>>>=22,s.words[v-10]=y,y===0&&s.length>10?s.length-=10:s.length-=9},Bt.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var c=0,h=0;h<s.length;h++){var d=s.words[h]|0;c+=d*977,s.words[h]=c&67108863,c=d*64+(c/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function Wt(){Pt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Wt,Pt);function Se(){Pt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Se,Pt);function Jt(){Pt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Jt,Pt),Jt.prototype.imulK=function(s){for(var c=0,h=0;h<s.length;h++){var d=(s.words[h]|0)*19+c,v=d&67108863;d>>>=26,s.words[h]=v,c=d}return c!==0&&(s.words[s.length++]=c),s},o._prime=function(s){if(It[s])return It[s];var c;if(s==="k256")c=new Bt;else if(s==="p224")c=new Wt;else if(s==="p192")c=new Se;else if(s==="p25519")c=new Jt;else throw new Error("Unknown prime "+s);return It[s]=c,c};function B(g){if(typeof g=="string"){var s=o._prime(g);this.m=s.p,this.prime=s}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}B.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},B.prototype._verify2=function(s,c){r((s.negative|c.negative)===0,"red works only with positives"),r(s.red&&s.red===c.red,"red works only with red numbers")},B.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},B.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},B.prototype.add=function(s,c){this._verify2(s,c);var h=s.add(c);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},B.prototype.iadd=function(s,c){this._verify2(s,c);var h=s.iadd(c);return h.cmp(this.m)>=0&&h.isub(this.m),h},B.prototype.sub=function(s,c){this._verify2(s,c);var h=s.sub(c);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},B.prototype.isub=function(s,c){this._verify2(s,c);var h=s.isub(c);return h.cmpn(0)<0&&h.iadd(this.m),h},B.prototype.shl=function(s,c){return this._verify1(s),this.imod(s.ushln(c))},B.prototype.imul=function(s,c){return this._verify2(s,c),this.imod(s.imul(c))},B.prototype.mul=function(s,c){return this._verify2(s,c),this.imod(s.mul(c))},B.prototype.isqr=function(s){return this.imul(s,s.clone())},B.prototype.sqr=function(s){return this.mul(s,s)},B.prototype.sqrt=function(s){if(s.isZero())return s.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var h=this.m.add(new o(1)).iushrn(2);return this.pow(s,h)}for(var d=this.m.subn(1),v=0;!d.isZero()&&d.andln(1)===0;)v++,d.iushrn(1);r(!d.isZero());var y=new o(1).toRed(this),w=y.redNeg(),f=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);this.pow(u,f).cmp(w)!==0;)u.redIAdd(w);for(var p=this.pow(u,d),C=this.pow(s,d.addn(1).iushrn(1)),T=this.pow(s,d),I=v;T.cmp(y)!==0;){for(var Lt=T,F=0;Lt.cmp(y)!==0;F++)Lt=Lt.redSqr();r(F<I);var j=this.pow(p,new o(1).iushln(I-F-1));C=C.redMul(j),p=j.redSqr(),T=T.redMul(p),I=F}return C},B.prototype.invm=function(s){var c=s._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},B.prototype.pow=function(s,c){if(c.isZero())return new o(1).toRed(this);if(c.cmpn(1)===0)return s.clone();var h=4,d=new Array(1<<h);d[0]=new o(1).toRed(this),d[1]=s;for(var v=2;v<d.length;v++)d[v]=this.mul(d[v-1],s);var y=d[0],w=0,f=0,u=c.bitLength()%26;for(u===0&&(u=26),v=c.length-1;v>=0;v--){for(var p=c.words[v],C=u-1;C>=0;C--){var T=p>>C&1;if(y!==d[0]&&(y=this.sqr(y)),T===0&&w===0){f=0;continue}w<<=1,w|=T,f++,!(f!==h&&(v!==0||C!==0))&&(y=this.mul(y,d[w]),f=0,w=0)}u=26}return y},B.prototype.convertTo=function(s){var c=s.umod(this.m);return c===s?c.clone():c},B.prototype.convertFrom=function(s){var c=s.clone();return c.red=null,c},o.mont=function(s){return new U(s)};function U(g){B.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(U,B),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var c=this.imod(s.mul(this.rinv));return c.red=null,c},U.prototype.imul=function(s,c){if(s.isZero()||c.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(c),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(d).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},U.prototype.mul=function(s,c){if(s.isZero()||c.isZero())return new o(0)._forceRed(this);var h=s.mul(c),d=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(d).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},U.prototype.invm=function(s){var c=this.imod(s._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(n,$)})(ri);var gr=ri.exports,Ct={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});function qn(){return n=>n}ce.OpaqueType=qn;ce.HexString=qn();ce.AddressString=qn();ce.BigIntString=qn();function fa(n){return Math.floor(n)}ce.IntNumber=fa;ce.RegExpString=qn();var da=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ct,"__esModule",{value:!0});const ve=da(gr),ee=ce,_o=/^[0-9]*$/,xo=/^[a-f0-9]*$/;function pa(n,t=!1){const e=n.toString("hex");return ee.HexString(t?"0x"+e:e)}Ct.hexStringFromBuffer=pa;function ba(n){return ee.BigIntString(n.toString(10))}Ct.bigIntStringFromBN=ba;function va(n){return ee.IntNumber(new ve.default(zn(n,!1),16).toNumber())}Ct.intNumberFromHexString=va;function ga(n){return ee.HexString("0x"+new ve.default(n).toString(16))}Ct.hexStringFromIntNumber=ga;function ii(n){return n.startsWith("0x")||n.startsWith("0X")}Ct.has0xPrefix=ii;function mr(n){return ii(n)?n.slice(2):n}Ct.strip0x=mr;function So(n){return ii(n)?"0x"+n.slice(2):"0x"+n}Ct.prepend0x=So;function Vn(n){if(typeof n!="string")return!1;const t=mr(n).toLowerCase();return xo.test(t)}Ct.isHexString=Vn;function ko(n,t=!1){if(typeof n=="string"){const e=mr(n).toLowerCase();if(xo.test(e))return ee.HexString(t?"0x"+e:e)}throw new Error(`"${n}" is not a hexadecimal string`)}Ct.ensureHexString=ko;function zn(n,t=!1){let e=ko(n,!1);return e.length%2===1&&(e=ee.HexString("0"+e)),t?ee.HexString("0x"+e):e}Ct.ensureEvenLengthHexString=zn;function ma(n){if(typeof n=="string"){const t=mr(n).toLowerCase();if(Vn(t)&&t.length===40)return ee.AddressString(So(t))}throw new Error(`Invalid Ethereum address: ${n}`)}Ct.ensureAddressString=ma;function ya(n){if(Buffer.isBuffer(n))return n;if(typeof n=="string")if(Vn(n)){const t=zn(n,!1);return Buffer.from(t,"hex")}else return Buffer.from(n,"utf8");throw new Error(`Not binary data: ${n}`)}Ct.ensureBuffer=ya;function Mo(n){if(typeof n=="number"&&Number.isInteger(n))return ee.IntNumber(n);if(typeof n=="string"){if(_o.test(n))return ee.IntNumber(Number(n));if(Vn(n))return ee.IntNumber(new ve.default(zn(n,!1),16).toNumber())}throw new Error(`Not an integer: ${n}`)}Ct.ensureIntNumber=Mo;function wa(n){if(n instanceof RegExp)return ee.RegExpString(n.toString());throw new Error(`Not a RegExp: ${n}`)}Ct.ensureRegExpString=wa;function _a(n){if(n!=null&&(ve.default.isBN(n)||Eo(n)))return new ve.default(n.toString(10),10);if(typeof n=="number")return new ve.default(Mo(n));if(typeof n=="string"){if(_o.test(n))return new ve.default(n,10);if(Vn(n))return new ve.default(zn(n,!1),16)}throw new Error(`Not an integer: ${n}`)}Ct.ensureBN=_a;function Eo(n){if(n==null||typeof n.constructor!="function")return!1;const{constructor:t}=n;return typeof t.config=="function"&&typeof t.EUCLID=="number"}Ct.isBigNumber=Eo;function xa(n,t){return Array.from({length:t-n},(e,r)=>n+r)}Ct.range=xa;function Sa(){const n=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:e}=document.location,r=n?n.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${e}${r}`}Ct.getFavicon=Sa;const{Transform:ka}=mn;var Ma=n=>class To extends ka{constructor(e,r,i,o,a){super(a),this._rate=e,this._capacity=r,this._delimitedSuffix=i,this._hashBitLength=o,this._options=a,this._state=new n,this._state.initialize(e,r),this._finalized=!1}_transform(e,r,i){let o=null;try{this.update(e,r)}catch(a){o=a}i(o)}_flush(e){let r=null;try{this.push(this.digest())}catch(i){r=i}e(r)}update(e,r){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,r)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let r=this._state.squeeze(this._hashBitLength/8);return e!==void 0&&(r=r.toString(e)),this._resetState(),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new To(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const{Transform:Ea}=mn;var Ta=n=>class Co extends Ea{constructor(e,r,i,o){super(o),this._rate=e,this._capacity=r,this._delimitedSuffix=i,this._options=o,this._state=new n,this._state.initialize(e,r),this._finalized=!1}_transform(e,r,i){let o=null;try{this.update(e,r)}catch(a){o=a}i(o)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,r){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(e)||(e=Buffer.from(e,r)),this._state.absorb(e),this}squeeze(e,r){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(e);return r!==void 0&&(i=i.toString(r)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new Co(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}};const Ca=Ma,Ia=Ta;var Oa=function(n){const t=Ca(n),e=Ia(n);return function(r,i){switch(typeof r=="string"?r.toLowerCase():r){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new e(1344,256,31,i);case"shake256":return new e(1088,512,31,i);default:throw new Error("Invald algorithm: "+r)}}},Io={};const $i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Io.p1600=function(n){for(let t=0;t<24;++t){const e=n[0]^n[10]^n[20]^n[30]^n[40],r=n[1]^n[11]^n[21]^n[31]^n[41],i=n[2]^n[12]^n[22]^n[32]^n[42],o=n[3]^n[13]^n[23]^n[33]^n[43],a=n[4]^n[14]^n[24]^n[34]^n[44],l=n[5]^n[15]^n[25]^n[35]^n[45],b=n[6]^n[16]^n[26]^n[36]^n[46],_=n[7]^n[17]^n[27]^n[37]^n[47],m=n[8]^n[18]^n[28]^n[38]^n[48],M=n[9]^n[19]^n[29]^n[39]^n[49];let x=m^(i<<1|o>>>31),k=M^(o<<1|i>>>31);const N=n[0]^x,L=n[1]^k,R=n[10]^x,D=n[11]^k,Rt=n[20]^x,qt=n[21]^k,It=n[30]^x,Pt=n[31]^k,Bt=n[40]^x,Wt=n[41]^k;x=e^(a<<1|l>>>31),k=r^(l<<1|a>>>31);const Se=n[2]^x,Jt=n[3]^k,B=n[12]^x,U=n[13]^k,g=n[22]^x,s=n[23]^k,c=n[32]^x,h=n[33]^k,d=n[42]^x,v=n[43]^k;x=i^(b<<1|_>>>31),k=o^(_<<1|b>>>31);const y=n[4]^x,w=n[5]^k,f=n[14]^x,u=n[15]^k,p=n[24]^x,C=n[25]^k,T=n[34]^x,I=n[35]^k,Lt=n[44]^x,F=n[45]^k;x=a^(m<<1|M>>>31),k=l^(M<<1|m>>>31);const j=n[6]^x,kn=n[7]^k,pt=n[16]^x,bt=n[17]^k,Mn=n[26]^x,vt=n[27]^k,gt=n[36]^x,En=n[37]^k,mt=n[46]^x,yt=n[47]^k;x=b^(e<<1|r>>>31),k=_^(r<<1|e>>>31);const Tn=n[8]^x,wt=n[9]^k,_t=n[18]^x,Cn=n[19]^k,xt=n[28]^x,St=n[29]^k,In=n[38]^x,kt=n[39]^k,Mt=n[48]^x,On=n[49]^k,q=N,V=L,Ge=D<<4|R>>>28,z=R<<4|D>>>28,H=Rt<<3|qt>>>29,Qe=qt<<3|Rt>>>29,K=Pt<<9|It>>>23,G=It<<9|Pt>>>23,Ye=Bt<<18|Wt>>>14,Q=Wt<<18|Bt>>>14,Y=Se<<1|Jt>>>31,Je=Jt<<1|Se>>>31,J=U<<12|B>>>20,Z=B<<12|U>>>20,Ze=g<<10|s>>>22,X=s<<10|g>>>22,tt=h<<13|c>>>19,Xe=c<<13|h>>>19,et=d<<2|v>>>30,nt=v<<2|d>>>30,tn=w<<30|y>>>2,rt=y<<30|w>>>2,it=f<<6|u>>>26,en=u<<6|f>>>26,ot=C<<11|p>>>21,st=p<<11|C>>>21,nn=T<<15|I>>>17,at=I<<15|T>>>17,ut=F<<29|Lt>>>3,rn=Lt<<29|F>>>3,ct=j<<28|kn>>>4,lt=kn<<28|j>>>4,on=bt<<23|pt>>>9,ht=pt<<23|bt>>>9,ft=Mn<<25|vt>>>7,ke=vt<<25|Mn>>>7,Me=gt<<21|En>>>11,Ee=En<<21|gt>>>11,Te=yt<<24|mt>>>8,Ce=mt<<24|yt>>>8,Ie=Tn<<27|wt>>>5,Oe=wt<<27|Tn>>>5,Ne=_t<<20|Cn>>>12,Ae=Cn<<20|_t>>>12,Re=St<<7|xt>>>25,De=xt<<7|St>>>25,Pe=In<<8|kt>>>24,Be=kt<<8|In>>>24,Le=Mt<<14|On>>>18,Fe=On<<14|Mt>>>18;n[0]=q^~J&ot,n[1]=V^~Z&st,n[10]=ct^~Ne&H,n[11]=lt^~Ae&Qe,n[20]=Y^~it&ft,n[21]=Je^~en&ke,n[30]=Ie^~Ge&Ze,n[31]=Oe^~z&X,n[40]=tn^~on&Re,n[41]=rt^~ht&De,n[2]=J^~ot&Me,n[3]=Z^~st&Ee,n[12]=Ne^~H&tt,n[13]=Ae^~Qe&Xe,n[22]=it^~ft&Pe,n[23]=en^~ke&Be,n[32]=Ge^~Ze&nn,n[33]=z^~X&at,n[42]=on^~Re&K,n[43]=ht^~De&G,n[4]=ot^~Me&Le,n[5]=st^~Ee&Fe,n[14]=H^~tt&ut,n[15]=Qe^~Xe&rn,n[24]=ft^~Pe&Ye,n[25]=ke^~Be&Q,n[34]=Ze^~nn&Te,n[35]=X^~at&Ce,n[44]=Re^~K&et,n[45]=De^~G&nt,n[6]=Me^~Le&q,n[7]=Ee^~Fe&V,n[16]=tt^~ut&ct,n[17]=Xe^~rn&lt,n[26]=Pe^~Ye&Y,n[27]=Be^~Q&Je,n[36]=nn^~Te&Ie,n[37]=at^~Ce&Oe,n[46]=K^~et&tn,n[47]=G^~nt&rt,n[8]=Le^~q&J,n[9]=Fe^~V&Z,n[18]=ut^~ct&Ne,n[19]=rn^~lt&Ae,n[28]=Ye^~Y&it,n[29]=Q^~Je&en,n[38]=Te^~Ie&Ge,n[39]=Ce^~Oe&z,n[48]=et^~tn&on,n[49]=nt^~rt&ht,n[0]^=$i[t*2],n[1]^=$i[t*2+1]}};const lr=Io;function yn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}yn.prototype.initialize=function(n,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=n/8,this.count=0,this.squeezing=!1};yn.prototype.absorb=function(n){for(let t=0;t<n.length;++t)this.state[~~(this.count/4)]^=n[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(lr.p1600(this.state),this.count=0)};yn.prototype.absorbLastFewBits=function(n){this.state[~~(this.count/4)]^=n<<8*(this.count%4),n&128&&this.count===this.blockSize-1&&lr.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),lr.p1600(this.state),this.count=0,this.squeezing=!0};yn.prototype.squeeze=function(n){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(n);for(let e=0;e<n;++e)t[e]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(lr.p1600(this.state),this.count=0);return t};yn.prototype.copy=function(n){for(let t=0;t<50;++t)n.state[t]=this.state[t];n.blockSize=this.blockSize,n.count=this.count,n.squeezing=this.squeezing};var Na=yn,Aa=Oa(Na);const Ra=Aa,Da=gr;function Oo(n){return Buffer.allocUnsafe(n).fill(0)}function No(n,t,e){const r=Oo(t);return n=yr(n),e?n.length<t?(n.copy(r),r):n.slice(0,t):n.length<t?(n.copy(r,t-n.length),r):n.slice(-t)}function Pa(n,t){return No(n,t,!0)}function yr(n){if(!Buffer.isBuffer(n))if(Array.isArray(n))n=Buffer.from(n);else if(typeof n=="string")Ao(n)?n=Buffer.from(Fa(Ro(n)),"hex"):n=Buffer.from(n);else if(typeof n=="number")n=intToBuffer(n);else if(n==null)n=Buffer.allocUnsafe(0);else if(Da.isBN(n))n=n.toArrayLike(Buffer);else if(n.toArray)n=Buffer.from(n.toArray());else throw new Error("invalid type");return n}function Ba(n){return n=yr(n),"0x"+n.toString("hex")}function La(n,t){return n=yr(n),t||(t=256),Ra("keccak"+t).update(n).digest()}function Fa(n){return n.length%2?"0"+n:n}function Ao(n){return typeof n=="string"&&n.match(/^0x[0-9A-Fa-f]*$/)}function Ro(n){return typeof n=="string"&&n.startsWith("0x")?n.slice(2):n}var Do={zeros:Oo,setLength:No,setLengthRight:Pa,isHexString:Ao,stripHexPrefix:Ro,toBuffer:yr,bufferToHex:Ba,keccak:La};const Ue=Do,$e=gr;function Po(n){return n.startsWith("int[")?"int256"+n.slice(3):n==="int"?"int256":n.startsWith("uint[")?"uint256"+n.slice(4):n==="uint"?"uint256":n.startsWith("fixed[")?"fixed128x128"+n.slice(5):n==="fixed"?"fixed128x128":n.startsWith("ufixed[")?"ufixed128x128"+n.slice(6):n==="ufixed"?"ufixed128x128":n}function ln(n){return parseInt(/^\D+(\d+)$/.exec(n)[1],10)}function Ui(n){var t=/^\D+(\d+)x(\d+)$/.exec(n);return[parseInt(t[1],10),parseInt(t[2],10)]}function Bo(n){var t=n.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function je(n){var t=typeof n;if(t==="string")return Ue.isHexString(n)?new $e(Ue.stripHexPrefix(n),16):new $e(n,10);if(t==="number")return new $e(n);if(n.toArray)return n;throw new Error("Argument is not a number")}function oe(n,t){var e,r,i,o;if(n==="address")return oe("uint160",je(t));if(n==="bool")return oe("uint8",t?1:0);if(n==="string")return oe("bytes",new Buffer(t,"utf8"));if(Wa(n)){if(typeof t.length>"u")throw new Error("Not an array?");if(e=Bo(n),e!=="dynamic"&&e!==0&&t.length>e)throw new Error("Elements exceed array size: "+e);i=[],n=n.slice(0,n.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)i.push(oe(n,t[o]));if(e==="dynamic"){var a=oe("uint256",t.length);i.unshift(a)}return Buffer.concat(i)}else{if(n==="bytes")return t=new Buffer(t),i=Buffer.concat([oe("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,Ue.zeros(32-t.length%32)])),i;if(n.startsWith("bytes")){if(e=ln(n),e<1||e>32)throw new Error("Invalid bytes<N> width: "+e);return Ue.setLengthRight(t,32)}else if(n.startsWith("uint")){if(e=ln(n),e%8||e<8||e>256)throw new Error("Invalid uint<N> width: "+e);if(r=je(t),r.bitLength()>e)throw new Error("Supplied uint exceeds width: "+e+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(Buffer,"be",32)}else if(n.startsWith("int")){if(e=ln(n),e%8||e<8||e>256)throw new Error("Invalid int<N> width: "+e);if(r=je(t),r.bitLength()>e)throw new Error("Supplied int exceeds width: "+e+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(Buffer,"be",32)}else if(n.startsWith("ufixed")){if(e=Ui(n),r=je(t),r<0)throw new Error("Supplied ufixed is negative");return oe("uint256",r.mul(new $e(2).pow(new $e(e[1]))))}else if(n.startsWith("fixed"))return e=Ui(n),oe("int256",je(t).mul(new $e(2).pow(new $e(e[1]))))}throw new Error("Unsupported or invalid type: "+n)}function ja(n){return n==="string"||n==="bytes"||Bo(n)==="dynamic"}function Wa(n){return n.lastIndexOf("]")===n.length-1}function $a(n,t){var e=[],r=[],i=32*n.length;for(var o in n){var a=Po(n[o]),l=t[o],b=oe(a,l);ja(a)?(e.push(oe("uint256",i)),r.push(b),i+=b.length):e.push(b)}return Buffer.concat(e.concat(r))}function Lo(n,t){if(n.length!==t.length)throw new Error("Number of types are not matching the values");for(var e,r,i=[],o=0;o<n.length;o++){var a=Po(n[o]),l=t[o];if(a==="bytes")i.push(l);else if(a==="string")i.push(new Buffer(l,"utf8"));else if(a==="bool")i.push(new Buffer(l?"01":"00","hex"));else if(a==="address")i.push(Ue.setLength(l,20));else if(a.startsWith("bytes")){if(e=ln(a),e<1||e>32)throw new Error("Invalid bytes<N> width: "+e);i.push(Ue.setLengthRight(l,e))}else if(a.startsWith("uint")){if(e=ln(a),e%8||e<8||e>256)throw new Error("Invalid uint<N> width: "+e);if(r=je(l),r.bitLength()>e)throw new Error("Supplied uint exceeds width: "+e+" vs "+r.bitLength());i.push(r.toArrayLike(Buffer,"be",e/8))}else if(a.startsWith("int")){if(e=ln(a),e%8||e<8||e>256)throw new Error("Invalid int<N> width: "+e);if(r=je(l),r.bitLength()>e)throw new Error("Supplied int exceeds width: "+e+" vs "+r.bitLength());i.push(r.toTwos(e).toArrayLike(Buffer,"be",e/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(i)}function Ua(n,t){return Ue.keccak(Lo(n,t))}var qa={rawEncode:$a,solidityPack:Lo,soliditySHA3:Ua};const ie=Do,An=qa,Fo={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Dr={encodeData(n,t,e,r=!0){const i=["bytes32"],o=[this.hashType(n,e)];if(r){const a=(l,b,_)=>{if(e[b]!==void 0)return["bytes32",_==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ie.keccak(this.encodeData(b,_,e,r))];if(_===void 0)throw new Error(`missing value for field ${l} of type ${b}`);if(b==="bytes")return["bytes32",ie.keccak(_)];if(b==="string")return typeof _=="string"&&(_=Buffer.from(_,"utf8")),["bytes32",ie.keccak(_)];if(b.lastIndexOf("]")===b.length-1){const m=b.slice(0,b.lastIndexOf("[")),M=_.map(x=>a(l,m,x));return["bytes32",ie.keccak(An.rawEncode(M.map(([x])=>x),M.map(([,x])=>x)))]}return[b,_]};for(const l of e[n]){const[b,_]=a(l.name,l.type,t[l.name]);i.push(b),o.push(_)}}else for(const a of e[n]){let l=t[a.name];if(l!==void 0)if(a.type==="bytes")i.push("bytes32"),l=ie.keccak(l),o.push(l);else if(a.type==="string")i.push("bytes32"),typeof l=="string"&&(l=Buffer.from(l,"utf8")),l=ie.keccak(l),o.push(l);else if(e[a.type]!==void 0)i.push("bytes32"),l=ie.keccak(this.encodeData(a.type,l,e,r)),o.push(l);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),o.push(l)}}return An.rawEncode(i,o)},encodeType(n,t){let e="",r=this.findTypeDependencies(n,t).filter(i=>i!==n);r=[n].concat(r.sort());for(const i of r){if(!t[i])throw new Error("No type definition specified: "+i);e+=i+"("+t[i].map(({name:a,type:l})=>l+" "+a).join(",")+")"}return e},findTypeDependencies(n,t,e=[]){if(n=n.match(/^\w*/)[0],e.includes(n)||t[n]===void 0)return e;e.push(n);for(const r of t[n])for(const i of this.findTypeDependencies(r.type,t,e))!e.includes(i)&&e.push(i);return e},hashStruct(n,t,e,r=!0){return ie.keccak(this.encodeData(n,t,e,r))},hashType(n,t){return ie.keccak(this.encodeType(n,t))},sanitizeData(n){const t={};for(const e in Fo.properties)n[e]&&(t[e]=n[e]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(n,t=!0){const e=this.sanitizeData(n),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",e.domain,e.types,t)),e.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(e.primaryType,e.message,e.types,t)),ie.keccak(Buffer.concat(r))}};var Va={TYPED_MESSAGE_SCHEMA:Fo,TypedDataUtils:Dr,hashForSignTypedDataLegacy:function(n){return za(n.data)},hashForSignTypedData_v3:function(n){return Dr.hash(n.data,!1)},hashForSignTypedData_v4:function(n){return Dr.hash(n.data)}};function za(n){const t=new Error("Expect argument to be non-empty array");if(typeof n!="object"||!n.length)throw t;const e=n.map(function(o){return o.type==="bytes"?ie.toBuffer(o.value):o.value}),r=n.map(function(o){return o.type}),i=n.map(function(o){if(!o.name)throw t;return o.type+" "+o.name});return An.soliditySHA3(["bytes32","bytes32"],[An.soliditySHA3(new Array(n.length).fill("string"),i),An.soliditySHA3(r,e)])}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const an=ce,Vt=Ct,Ha=5*60*1e3,We={jsonrpc:"2.0",id:0};class Ka{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=an.IntNumber(1),this.provider=t}async newFilter(t){const e=jo(t),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,e.fromBlock);return console.log(`Installing new log filter(${r}):`,e,"initial cursor position:",i),this.logFilters.set(r,e),this.setFilterTimeout(r),Vt.hexStringFromIntNumber(r)}async newBlockFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.blockFilters.add(t),this.setFilterTimeout(t),Vt.hexStringFromIntNumber(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),e=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,e),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),Vt.hexStringFromIntNumber(t)}uninstallFilter(t){const e=Vt.intNumberFromHexString(t);return console.log(`Uninstalling filter (${e})`),this.deleteFilter(e),!0}getFilterChanges(t){const e=Vt.intNumberFromHexString(t);return this.timeouts.has(e)&&this.setFilterTimeout(e),this.logFilters.has(e)?this.getLogFilterChanges(e):this.blockFilters.has(e)?this.getBlockFilterChanges(e):this.pendingTransactionFilters.has(e)?this.getPendingTransactionFilterChanges(e):Promise.resolve(er())}async getFilterLogs(t){const e=Vt.intNumberFromHexString(t),r=this.logFilters.get(e);return r?this.sendAsyncPromise(Object.assign(Object.assign({},We),{method:"eth_getLogs",params:[qi(r)]})):er()}makeFilterId(){return an.IntNumber(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((e,r)=>{this.provider.sendAsync(t,(i,o)=>{if(i)return r(i);if(Array.isArray(o)||o==null)return r(new Error(`unexpected response received: ${JSON.stringify(o)}`));e(o)})})}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const e=this.logFilters.get(t),r=this.cursors.get(t);if(!r||!e)return er();const i=await this.getCurrentBlockHeight(),o=e.toBlock==="latest"?i:e.toBlock;if(r>i||r>e.toBlock)return nr();console.log(`Fetching logs from ${r} to ${o} for filter ${t}`);const a=await this.sendAsyncPromise(Object.assign(Object.assign({},We),{method:"eth_getLogs",params:[qi(Object.assign(Object.assign({},e),{fromBlock:r,toBlock:o}))]}));if(Array.isArray(a.result)){const l=a.result.map(_=>Vt.intNumberFromHexString(_.blockNumber||"0x0")),b=Math.max(...l);if(b&&b>r){const _=an.IntNumber(b+1);console.log(`Moving cursor position for filter (${t}) from ${r} to ${_}`),this.cursors.set(t,_)}}return a}async getBlockFilterChanges(t){const e=this.cursors.get(t);if(!e)return er();const r=await this.getCurrentBlockHeight();if(e>r)return nr();console.log(`Fetching blocks from ${e} to ${r} for filter (${t})`);const i=(await Promise.all(Vt.range(e,r+1).map(a=>this.getBlockHashByNumber(an.IntNumber(a))))).filter(a=>!!a),o=an.IntNumber(e+i.length);return console.log(`Moving cursor position for filter (${t}) from ${e} to ${o}`),this.cursors.set(t,o),Object.assign(Object.assign({},We),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(nr())}async setInitialCursorPosition(t,e){const r=await this.getCurrentBlockHeight(),i=typeof e=="number"&&e>r?e:r;return this.cursors.set(t,i),i}setFilterTimeout(t){const e=this.timeouts.get(t);e&&window.clearTimeout(e);const r=window.setTimeout(()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)},Ha);this.timeouts.set(t,r)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},We),{method:"eth_blockNumber",params:[]}));return Vt.intNumberFromHexString(Vt.ensureHexString(t))}async getBlockHashByNumber(t){const e=await this.sendAsyncPromise(Object.assign(Object.assign({},We),{method:"eth_getBlockByNumber",params:[Vt.hexStringFromIntNumber(t),!1]}));return e.result&&typeof e.result.hash=="string"?Vt.ensureHexString(e.result.hash):null}}wr.FilterPolyfill=Ka;function jo(n){return{fromBlock:Vi(n.fromBlock),toBlock:Vi(n.toBlock),addresses:n.address===void 0?null:Array.isArray(n.address)?n.address:[n.address],topics:n.topics||[]}}wr.filterFromParam=jo;function qi(n){const t={fromBlock:zi(n.fromBlock),toBlock:zi(n.toBlock),topics:n.topics};return n.addresses!==null&&(t.address=n.addresses),t}function Vi(n){if(n===void 0||n==="latest"||n==="pending")return"latest";if(n==="earliest")return an.IntNumber(0);if(Vt.isHexString(n))return Vt.intNumberFromHexString(n);throw new Error(`Invalid block option: ${n}`)}function zi(n){return n==="latest"?n:Vt.hexStringFromIntNumber(n)}function er(){return Object.assign(Object.assign({},We),{error:{code:-32e3,message:"filter not found"}})}function nr(){return Object.assign(Object.assign({},We),{result:[]})}var Wo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.eth_accounts="eth_accounts",t.eth_coinbase="eth_coinbase",t.net_version="net_version",t.eth_uninstallFilter="eth_uninstallFilter",t.eth_requestAccounts="eth_requestAccounts",t.eth_sign="eth_sign",t.eth_ecRecover="eth_ecRecover",t.personal_sign="personal_sign",t.personal_ecRecover="personal_ecRecover",t.eth_signTransaction="eth_signTransaction",t.eth_sendRawTransaction="eth_sendRawTransaction",t.eth_sendTransaction="eth_sendTransaction",t.eth_signTypedData_v1="eth_signTypedData_v1",t.eth_signTypedData_v2="eth_signTypedData_v2",t.eth_signTypedData_v3="eth_signTypedData_v3",t.eth_signTypedData_v4="eth_signTypedData_v4",t.eth_signTypedData="eth_signTypedData",t.walletlink_arbitrary="walletlink_arbitrary",t.eth_newFilter="eth_newFilter",t.eth_newBlockFilter="eth_newBlockFilter",t.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",t.eth_getFilterChanges="eth_getFilterChanges",t.eth_getFilterLogs="eth_getFilterLogs"}(n.JSONRPCMethod||(n.JSONRPCMethod={}))})(Wo);var $o={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.USER_DENIED_REQUEST_ACCOUNTS=4001]="USER_DENIED_REQUEST_ACCOUNTS",e[e.USER_DENIED_CREATE_ACCOUNT=4010]="USER_DENIED_CREATE_ACCOUNT",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.USER_DENIED_REQUEST_SIGNATURE=-32603]="USER_DENIED_REQUEST_SIGNATURE"}(n.ProviderErrorCode||(n.ProviderErrorCode={}));class t extends Error{constructor(r,i,o){super(r||"Provider Error"),this.code=i,this.data=o,this.name="ProviderError",Object.setPrototypeOf(this,t.prototype)}}n.ProviderError=t})($o);var Uo=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Un,"__esModule",{value:!0});const Ga=Uo(gr),W=Ct,Pr=Uo(Va),Qa=wr,dt=Wo,Gt=$o,Hi="Addresses";let Ya=class{constructor(t){if(this._filterPolyfill=new Qa.FilterPolyfill(this),this._addresses=[],this._send=this.send,this._sendAsync=this.sendAsync,!t.relay)throw new Error("realy must be provided");if(!t.jsonRpcUrl)throw new Error("jsonRpcUrl must be provided");this._relay=t.relay,this._chainId=W.ensureIntNumber(t.chainId||1),this._jsonRpcUrl=t.jsonRpcUrl;const e=this._relay.getStorageItem(Hi);if(e){const r=e.split(" ");r[0]!==""&&(this._addresses=r)}}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this._chainId.toString(10)}get isWalletLink(){return!0}get host(){return this._jsonRpcUrl}get connected(){return!0}isConnected(){return!0}async enable(){return this._addresses.length>0?this._addresses:await this._send(dt.JSONRPCMethod.eth_requestAccounts)}close(){this._relay.resetAndReload()}send(t,e){if(typeof t=="string"){const i=t,o=Array.isArray(e)?e:e!==void 0?[e]:[],a={jsonrpc:"2.0",id:0,method:i,params:o};return this._sendRequestAsync(a).then(l=>l.result)}if(typeof e=="function"){const i=t,o=e;return this._sendAsync(i,o)}if(Array.isArray(t))return t.map(o=>this._sendRequest(o));const r=t;return this._sendRequest(r)}sendAsync(t,e){if(typeof e!="function")throw new Error("callback is required");if(Array.isArray(t)){const i=e;this._sendMultipleRequestsAsync(t).then(o=>i(null,o)).catch(o=>i(o,null));return}const r=e;this._sendRequestAsync(t).then(i=>r(null,i)).catch(i=>r(i,null))}async scanQRCode(t){const e=await this._relay.scanQRCode(W.ensureRegExpString(t));if(typeof e.result!="string")throw new Error("result was not a string");return e.result}async arbitraryRequest(t){const e=await this._relay.arbitraryRequest(t);if(typeof e.result!="string")throw new Error("result was not a string");return e.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const e={jsonrpc:"2.0",id:t.id},{method:r}=t;if(e.result=this._handleSynchronousMethods(t),e.result===void 0)throw new Error(`WalletLink does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return e}_setAddresses(t){if(!Array.isArray(t))throw new Error("addresses is not an array");this._addresses=t.map(e=>W.ensureAddressString(e)),this._relay.setStorageItem(Hi,t.join(" ")),window.dispatchEvent(new CustomEvent("walletlink:addresses",{detail:this._addresses}))}_sendRequestAsync(t){return new Promise((e,r)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return e({jsonrpc:"2.0",id:t.id,result:i});const o=this._handleAsynchronousFilterMethods(t);if(o!==void 0){o.then(a=>e(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(t).then(i=>e(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case dt.JSONRPCMethod.eth_accounts:return this._eth_accounts();case dt.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case dt.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case dt.JSONRPCMethod.net_version:return this._net_version();default:return}}_handleAsynchronousMethods(t){const{method:e}=t,r=t.params||[];switch(e){case dt.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case dt.JSONRPCMethod.eth_sign:return this._eth_sign(r);case dt.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case dt.JSONRPCMethod.personal_sign:return this._personal_sign(r);case dt.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case dt.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case dt.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case dt.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case dt.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case dt.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case dt.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case dt.JSONRPCMethod.eth_signTypedData_v4:case dt.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case dt.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(r)}return window.fetch(this._jsonRpcUrl,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{if(!i)throw new Gt.ProviderError("unexpected response");const o=i,{error:a}=o;if(a)throw new Gt.ProviderError(a.message||"RPC Error",a.code,a.data);return o})}_handleAsynchronousFilterMethods(t){const{method:e}=t,r=t.params||[];switch(e){case dt.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case dt.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case dt.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case dt.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case dt.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_isKnownAddress(t){try{const e=W.ensureAddressString(t);return this._addresses.includes(e)}catch{}return!1}_ensureKnownAddress(t){if(!this._isKnownAddress(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const e=t.from?W.ensureAddressString(t.from):this.selectedAddress;if(!e)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(e);const r=t.to?W.ensureAddressString(t.to):null,i=t.value!=null?W.ensureBN(t.value):new Ga.default(0),o=t.data?W.ensureBuffer(t.data):Buffer.alloc(0),a=t.nonce!=null?W.ensureIntNumber(t.nonce):null,l=t.gasPrice!=null?W.ensureBN(t.gasPrice):null,b=t.gas!=null?W.ensureBN(t.gas):null,_=this._chainId;return{fromAddress:e,toAddress:r,weiValue:i,data:o,nonce:a,gasPriceInWei:l,gasLimit:b,chainId:_}}_requireAuthorization(){if(this._addresses.length===0)throw new Gt.ProviderError("Unauthorized",Gt.ProviderErrorCode.UNAUTHORIZED)}_throwUnsupportedMethodError(){throw new Gt.ProviderError("Unsupported method",Gt.ProviderErrorCode.UNSUPPORTED_METHOD)}async _signEthereumMessage(t,e,r,i){this._ensureKnownAddress(e);try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumMessage(t,e,r,i)).result}}catch(o){throw typeof o.message=="string"&&o.message.match(/(denied|rejected)/i)?new Gt.ProviderError("User denied message signature",Gt.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE):o}}async _ethereumAddressFromSignedMessage(t,e,r){return{jsonrpc:"2.0",id:0,result:(await this._relay.ethereumAddressFromSignedMessage(t,e,r)).result}}_eth_accounts(){return this._addresses}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this._chainId.toString(10)}async _eth_requestAccounts(){if(this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{t=await this._relay.requestEthereumAccounts()}catch(e){throw typeof e.message=="string"&&e.message.match(/(denied|rejected)/i)?new Gt.ProviderError("User denied account authorization",Gt.ProviderErrorCode.USER_DENIED_REQUEST_ACCOUNTS):e}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const e=W.ensureAddressString(t[0]),r=W.ensureBuffer(t[1]);return this._signEthereumMessage(r,e,!1)}_eth_ecRecover(t){const e=W.ensureBuffer(t[0]),r=W.ensureBuffer(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!1)}_personal_sign(t){this._requireAuthorization();const e=W.ensureBuffer(t[0]),r=W.ensureAddressString(t[1]);return this._signEthereumMessage(e,r,!0)}_personal_ecRecover(t){const e=W.ensureBuffer(t[0]),r=W.ensureBuffer(t[1]);return this._ethereumAddressFromSignedMessage(e,r,!0)}async _eth_signTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signEthereumTransaction(e)).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?new Gt.ProviderError("User denied transaction signature",Gt.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE):r}}async _eth_sendRawTransaction(t){const e=W.ensureBuffer(t[0]);return{jsonrpc:"2.0",id:0,result:(await this._relay.submitEthereumTransaction(e,this._chainId)).result}}async _eth_sendTransaction(t){this._requireAuthorization();const e=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await this._relay.signAndSubmitEthereumTransaction(e)).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?new Gt.ProviderError("User denied transaction signature",Gt.ProviderErrorCode.USER_DENIED_REQUEST_SIGNATURE):r}}async _eth_signTypedData_v1(t){this._requireAuthorization();const e=t[0],r=W.ensureAddressString(t[1]);this._ensureKnownAddress(r);const i=Pr.default.hashForSignTypedDataLegacy({data:e}),o=JSON.stringify(e,null,2);return this._signEthereumMessage(i,r,!1,o)}async _eth_signTypedData_v3(t){this._requireAuthorization();const e=W.ensureAddressString(t[0]),r=t[1];this._ensureKnownAddress(e);const i=Pr.default.hashForSignTypedData_v3({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,e,!1,o)}async _eth_signTypedData_v4(t){this._requireAuthorization();const e=W.ensureAddressString(t[0]),r=t[1];this._ensureKnownAddress(e);const i=Pr.default.hashForSignTypedData_v4({data:r}),o=JSON.stringify(r,null,2);return this._signEthereumMessage(i,e,!1,o)}async _walletlink_arbitrary(t){const e=t[0];if(typeof e!="string")throw new Error("parameter must be a string");return{jsonrpc:"2.0",id:0,result:await this.arbitraryRequest(e)}}_eth_uninstallFilter(t){const e=W.ensureHexString(t[0]);return this._filterPolyfill.uninstallFilter(e)}async _eth_newFilter(t){const e=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(e)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const e=W.ensureHexString(t[0]);return this._filterPolyfill.getFilterChanges(e)}_eth_getFilterLogs(t){const e=W.ensureHexString(t[0]);return this._filterPolyfill.getFilterLogs(e)}};Un.WalletLinkProvider=Ya;var _r={},oi={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.default='.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto;all:initial;all:unset}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}';var Ja=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oi,"__esModule",{value:!0});const Za=Ja(si);function Xa(){const n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode(Za.default)),document.documentElement.appendChild(n)}oi.injectCssReset=Xa;var ai={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});var un;(function(n){n.typeOfFunction="function",n.boolTrue=!0})(un||(un={}));function qo(n,t,e){if(!e||typeof e.value!==un.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:un.boolTrue,get:function(){var r=e.value.bind(this);return Object.defineProperty(this,t,{value:r,configurable:un.boolTrue,writable:un.boolTrue}),r}}}xr.bind=qo;xr.default=qo;function dn(n){return typeof n=="function"}var Ki=!1,Xt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){var t=new Error;""+t.stack}Ki=n},get useDeprecatedSynchronousErrorHandling(){return Ki}};function cn(n){setTimeout(function(){throw n},0)}var hr={closed:!0,next:function(n){},error:function(n){if(Xt.useDeprecatedSynchronousErrorHandling)throw n;cn(n)},complete:function(){}},Ht=function(){return Array.isArray||function(n){return n&&typeof n.length=="number"}}();function ui(n){return n!==null&&typeof n=="object"}var tu=function(){function n(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,r){return r+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n}(),Rn=tu,Tt=function(){function n(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return n.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,r=e._parentOrParents,i=e._ctorUnsubscribe,o=e._unsubscribe,a=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof n)r.remove(this);else if(r!==null)for(var l=0;l<r.length;++l){var b=r[l];b.remove(this)}if(dn(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(M){t=M instanceof Rn?Gi(M.errors):[M]}}if(Ht(a))for(var l=-1,_=a.length;++l<_;){var m=a[l];if(ui(m))try{m.unsubscribe()}catch(x){t=t||[],x instanceof Rn?t=t.concat(Gi(x.errors)):t.push(x)}}if(t)throw new Rn(t)}},n.prototype.add=function(t){var e=t;if(!t)return n.EMPTY;switch(typeof t){case"function":e=new n(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof n)){var r=e;e=new n,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=e._parentOrParents;if(i===null)e._parentOrParents=this;else if(i instanceof n){if(i===this)return e;e._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return e;var o=this._subscriptions;return o===null?this._subscriptions=[e]:o.push(e),e},n.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}},n.EMPTY=function(t){return t.closed=!0,t}(new n),n}();function Gi(n){return n.reduce(function(t,e){return t.concat(e instanceof Rn?e.errors:e)},[])}var fr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),E=function(n){S(t,n);function t(e,r,i){var o=n.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=hr;break;case 1:if(!e){o.destination=hr;break}if(typeof e=="object"){e instanceof t?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new Qi(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new Qi(o,e,r,i);break}return o}return t.prototype[fr]=function(){return this},t.create=function(e,r,i){var o=new t(e,r,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(Tt),Qi=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this)||this;a._parentSubscriber=e;var l,b=a;return dn(r)?l=r:r&&(l=r.next,i=r.error,o=r.complete,r!==hr&&(b=Object.create(r),dn(b.unsubscribe)&&a.add(b.unsubscribe.bind(b)),b.unsubscribe=a.unsubscribe.bind(a))),a._context=b,a._next=l,a._error=i,a._complete=o,a}return t.prototype.next=function(e){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!Xt.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(r,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var r=this._parentSubscriber,i=Xt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(r,this._error,e),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=e,r.syncErrorThrown=!0):cn(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;cn(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};!Xt.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,r){try{e.call(this._context,r)}catch(i){if(this.unsubscribe(),Xt.useDeprecatedSynchronousErrorHandling)throw i;cn(i)}},t.prototype.__tryOrSetError=function(e,r,i){if(!Xt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(o){return Xt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(cn(o),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(E);function ci(n){for(;n;){var t=n,e=t.closed,r=t.destination,i=t.isStopped;if(e||i)return!1;r&&r instanceof E?n=r:n=null}return!0}function eu(n,t,e){if(n){if(n instanceof E)return n;if(n[fr])return n[fr]()}return!n&&!t&&!e?new E(hr):new E(n,t,e)}var wn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function we(n){return n}function Hr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Vo(n)}function Vo(n){return n.length===0?we:n.length===1?n[0]:function(e){return n.reduce(function(r,i){return i(r)},e)}}var A=function(){function n(t){this._isScalar=!1,t&&(this._subscribe=t)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(t,e,r){var i=this.operator,o=eu(t,e,r);if(i?o.add(i.call(o,this.source)):o.add(this.source||Xt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Xt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},n.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Xt.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),ci(t)?t.error(e):console.warn(e)}},n.prototype.forEach=function(t,e){var r=this;return e=Yi(e),new e(function(i,o){var a;a=r.subscribe(function(l){try{t(l)}catch(b){o(b),a&&a.unsubscribe()}},o,i)})},n.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},n.prototype[wn]=function(){return this},n.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:Vo(t)(this)},n.prototype.toPromise=function(t){var e=this;return t=Yi(t),new t(function(r,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},n.create=function(t){return new n(t)},n}();function Yi(n){if(n||(n=Xt.Promise||Promise),!n)throw new Error("no Promise impl found");return n}var nu=function(){function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n}(),ge=nu,zo=function(n){S(t,n);function t(e,r){var i=n.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,r=e.observers;if(this.subject=null,!(!r||r.length===0||e.isStopped||e.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},t}(Tt),Ho=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.destination=e,r}return t}(E),jt=function(n){S(t,n);function t(){var e=n.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return t.prototype[fr]=function(){return new Ho(this)},t.prototype.lift=function(e){var r=new Ji(this,this);return r.operator=e,r},t.prototype.next=function(e){if(this.closed)throw new ge;if(!this.isStopped)for(var r=this.observers,i=r.length,o=r.slice(),a=0;a<i;a++)o[a].next(e)},t.prototype.error=function(e){if(this.closed)throw new ge;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var r=this.observers,i=r.length,o=r.slice(),a=0;a<i;a++)o[a].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ge;this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),o=0;o<r;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new ge;return n.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new ge;return this.hasError?(e.error(this.thrownError),Tt.EMPTY):this.isStopped?(e.complete(),Tt.EMPTY):(this.observers.push(e),new zo(this,e))},t.prototype.asObservable=function(){var e=new A;return e.source=this,e},t.create=function(e,r){return new Ji(e,r)},t}(A),Ji=function(n){S(t,n);function t(e,r){var i=n.call(this)||this;return i.destination=e,i.source=r,i}return t.prototype.next=function(e){var r=this.destination;r&&r.next&&r.next(e)},t.prototype.error=function(e){var r=this.destination;r&&r.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var r=this.source;return r?this.source.subscribe(e):Tt.EMPTY},t}(jt);function li(){return function(t){return t.lift(new ru(t))}}var ru=function(){function n(t){this.connectable=t}return n.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new iu(t,r),o=e.subscribe(i);return i.closed||(i.connection=r.connect()),o},n}(),iu=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.connectable=r,i}return t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var r=e._refCount;if(r<=0){this.connection=null;return}if(e._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(E),Ko=function(n){S(t,n);function t(e,r){var i=n.call(this)||this;return i.source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Tt,e.add(this.source.subscribe(new su(this.getSubject(),this))),e.closed&&(this._connection=null,e=Tt.EMPTY)),e},t.prototype.refCount=function(){return li()(this)},t}(A),ou=function(){var n=Ko.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}}(),su=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.connectable=r,i}return t.prototype._error=function(e){this._unsubscribe(),n.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var r=e._connection;e._refCount=0,e._subject=null,e._connection=null,r&&r.unsubscribe()}},t}(Ho);function au(n,t,e,r){return function(i){return i.lift(new uu(n,t,e,r))}}var uu=function(){function n(t,e,r,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=i}return n.prototype.call=function(t,e){return e.subscribe(new cu(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},n}(),cu=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;return l.keySelector=r,l.elementSelector=i,l.durationSelector=o,l.subjectSelector=a,l.groups=null,l.attemptedToUnsubscribe=!1,l.count=0,l}return t.prototype._next=function(e){var r;try{r=this.keySelector(e)}catch(i){this.error(i);return}this._group(e,r)},t.prototype._group=function(e,r){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(r),a;if(this.elementSelector)try{a=this.elementSelector(e)}catch(_){this.error(_)}else a=e;if(!o){o=this.subjectSelector?this.subjectSelector():new jt,i.set(r,o);var l=new Kr(r,o,this);if(this.destination.next(l),this.durationSelector){var b=void 0;try{b=this.durationSelector(new Kr(r,o))}catch(_){this.error(_);return}this.add(b.subscribe(new lu(r,o,this)))}}o.closed||o.next(a)},t.prototype._error=function(e){var r=this.groups;r&&(r.forEach(function(i,o){i.error(e)}),r.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(r,i){r.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&n.prototype.unsubscribe.call(this))},t}(E),lu=function(n){S(t,n);function t(e,r,i){var o=n.call(this,r)||this;return o.key=e,o.group=r,o.parent=i,o}return t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,r=e.parent,i=e.key;this.key=this.parent=null,r&&r.removeGroup(i)},t}(E),Kr=function(n){S(t,n);function t(e,r,i){var o=n.call(this)||this;return o.key=e,o.groupSubject=r,o.refCountSubscription=i,o}return t.prototype._subscribe=function(e){var r=new Tt,i=this,o=i.refCountSubscription,a=i.groupSubject;return o&&!o.closed&&r.add(new hu(o)),r.add(a.subscribe(e)),r},t}(A),hu=function(n){S(t,n);function t(e){var r=n.call(this)||this;return r.parent=e,e.count++,r}return t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(n.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(Tt),Go=function(n){S(t,n);function t(e){var r=n.call(this)||this;return r._value=e,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var r=n.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ge;return this._value},t.prototype.next=function(e){n.prototype.next.call(this,this._value=e)},t}(jt),fu=function(n){S(t,n);function t(e,r){return n.call(this)||this}return t.prototype.schedule=function(e,r){return this},t}(Tt),Hn=function(n){S(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(e,r){if(r===void 0&&(r=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(e,r,i){return i===void 0&&(i=0),setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,r){var i=!1,o=void 0;try{this.work(e)}catch(a){i=!0,o=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,r=this.scheduler,i=r.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null},t}(fu),du=function(n){S(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return t.prototype.schedule=function(e,r){return r===void 0&&(r=0),r>0?n.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,r){return r>0||this.closed?n.prototype.execute.call(this,e,r):this._execute(e,r)},t.prototype.requestAsyncId=function(e,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?n.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},t}(Hn),Gr=function(){function n(t,e){e===void 0&&(e=n.now),this.SchedulerAction=t,this.now=e}return n.prototype.schedule=function(t,e,r){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},n.now=function(){return Date.now()},n}(),Kn=function(n){S(t,n);function t(e,r){r===void 0&&(r=Gr.now);var i=n.call(this,e,function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(e,r,i){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,r,i):n.prototype.schedule.call(this,e,r,i)},t.prototype.flush=function(e){var r=this.actions;if(this.active){r.push(e);return}var i;this.active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=r.shift());if(this.active=!1,i){for(;e=r.shift();)e.unsubscribe();throw i}},t}(Gr),pu=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Kn),Qo=new pu(du),Yo=Qo,pn=new A(function(n){return n.complete()});function _n(n){return n?bu(n):pn}function bu(n){return new A(function(t){return n.schedule(function(){return t.complete()})})}function Yt(n){return n&&typeof n.schedule=="function"}var Jo=function(n){return function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}};function hi(n,t){return new A(function(e){var r=new Tt,i=0;return r.add(t.schedule(function(){if(i===n.length){e.complete();return}e.next(n[i++]),e.closed||r.add(this.schedule())})),r})}function Gn(n,t){return t?hi(n,t):new A(Jo(n))}function Sr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[n.length-1];return Yt(e)?(n.pop(),hi(n,e)):Gn(n)}function fi(n,t){return t?new A(function(e){return t.schedule(vu,0,{error:n,subscriber:e})}):new A(function(e){return e.error(n)})}function vu(n){var t=n.error,e=n.subscriber;e.error(t)}var Qr;Qr||(Qr={});var fe=function(){function n(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue=t==="N"}return n.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},n.prototype.do=function(t,e,r){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},n.prototype.accept=function(t,e,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,r)},n.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return Sr(this.value);case"E":return fi(this.error);case"C":return _n()}throw new Error("unexpected notification kind value")},n.createNext=function(t){return typeof t<"u"?new n("N",t):n.undefinedValueNotification},n.createError=function(t){return new n("E",void 0,t)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}();function gu(n,t){return t===void 0&&(t=0),function(r){return r.lift(new mu(n,t))}}var mu=function(){function n(t,e){e===void 0&&(e=0),this.scheduler=t,this.delay=e}return n.prototype.call=function(t,e){return e.subscribe(new Zo(t,this.scheduler,this.delay))},n}(),Zo=function(n){S(t,n);function t(e,r,i){i===void 0&&(i=0);var o=n.call(this,e)||this;return o.scheduler=r,o.delay=i,o}return t.dispatch=function(e){var r=e.notification,i=e.destination;r.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var r=this.destination;r.add(this.scheduler.schedule(t.dispatch,this.delay,new yu(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(fe.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(fe.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()},t}(E),yu=function(){function n(t,e){this.notification=t,this.destination=e}return n}(),di=function(n){S(t,n);function t(e,r,i){e===void 0&&(e=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=n.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}n.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new wu(this._getNow(),e)),this._trimBufferThenGetEvents()),n.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,a=i.length,l;if(this.closed)throw new ge;if(this.isStopped||this.hasError?l=Tt.EMPTY:(this.observers.push(e),l=new zo(this,e)),o&&e.add(e=new Zo(e,o)),r)for(var b=0;b<a&&!e.closed;b++)e.next(i[b]);else for(var b=0;b<a&&!e.closed;b++)e.next(i[b].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l},t.prototype._getNow=function(){return(this.scheduler||Yo).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),r=this._bufferSize,i=this._windowTime,o=this._events,a=o.length,l=0;l<a&&!(e-o[l].time<i);)l++;return a>r&&(l=Math.max(l,a-r)),l>0&&o.splice(0,l),o},t}(jt),wu=function(){function n(t,e){this.time=t,this.value=e}return n}(),xn=function(n){S(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Tt.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Tt.EMPTY):n.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||n.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&n.prototype.next.call(this,this.value),n.prototype.complete.call(this)},t}(jt),_u=1,xu=function(){return Promise.resolve()}(),Yr={};function Zi(n){return n in Yr?(delete Yr[n],!0):!1}var Xi={setImmediate:function(n){var t=_u++;return Yr[t]=!0,xu.then(function(){return Zi(t)&&n()}),t},clearImmediate:function(n){Zi(n)}},Su=function(n){S(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return t.prototype.requestAsyncId=function(e,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=Xi.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,e,r,i);e.actions.length===0&&(Xi.clearImmediate(r),e.scheduled=void 0)},t}(Hn),ku=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,a=r.length;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<a&&(e=r.shift()));if(this.active=!1,i){for(;++o<a&&(e=r.shift());)e.unsubscribe();throw i}},t}(Kn),Xo=new ku(Su),ur=Xo,ts=new Kn(Hn),Kt=ts,Mu=function(n){S(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return t.prototype.requestAsyncId=function(e,r,i){return i===void 0&&(i=0),i!==null&&i>0?n.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return n.prototype.recycleAsyncId.call(this,e,r,i);e.actions.length===0&&(cancelAnimationFrame(r),e.scheduled=void 0)},t}(Hn),Eu=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var r=this.actions,i,o=-1,a=r.length;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<a&&(e=r.shift()));if(this.active=!1,i){for(;++o<a&&(e=r.shift());)e.unsubscribe();throw i}},t}(Kn),es=new Eu(Mu),Tu=es,Cu=function(n){S(t,n);function t(e,r){e===void 0&&(e=ns),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=n.call(this,e,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var e=this,r=e.actions,i=e.maxFrames,o,a;(a=r[0])&&a.delay<=i&&(r.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=r.shift();)a.unsubscribe();throw o}},t.frameTimeFactor=10,t}(Kn),ns=function(n){S(t,n);function t(e,r,i){i===void 0&&(i=e.index+=1);var o=n.call(this,e,r)||this;return o.scheduler=e,o.work=r,o.index=i,o.active=!0,o.index=e.index=i,o}return t.prototype.schedule=function(e,r){if(r===void 0&&(r=0),!this.id)return n.prototype.schedule.call(this,e,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(e,r)},t.prototype.requestAsyncId=function(e,r,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,r,i){},t.prototype._execute=function(e,r){if(this.active===!0)return n.prototype._execute.call(this,e,r)},t.sortActions=function(e,r){return e.delay===r.delay?e.index===r.index?0:e.index>r.index?1:-1:e.delay>r.delay?1:-1},t}(Hn);function se(){}function Iu(n){return!!n&&(n instanceof A||typeof n.lift=="function"&&typeof n.subscribe=="function")}var Ou=function(){function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n}(),bn=Ou,Nu=function(){function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n}(),Qn=Nu,Au=function(){function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return n.prototype=Object.create(Error.prototype),n}(),rs=Au;function ne(n,t){return function(r){if(typeof n!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Ru(n,t))}}var Ru=function(){function n(t,e){this.project=t,this.thisArg=e}return n.prototype.call=function(t,e){return e.subscribe(new Du(t,this.project,this.thisArg))},n}(),Du=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=i||o,o}return t.prototype._next=function(e){var r;try{r=this.project.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(E);function is(n,t,e){if(t)if(Yt(t))e=t;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return is(n,e).apply(void 0,r).pipe(ne(function(o){return Ht(o)?t.apply(void 0,o):t(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a,l={context:o,subject:a,callbackFunc:n,scheduler:e};return new A(function(b){if(e){var m={args:r,subscriber:b,params:l};return e.schedule(Pu,0,m)}else{if(!a){a=new xn;var _=function(){for(var M=[],x=0;x<arguments.length;x++)M[x]=arguments[x];a.next(M.length<=1?M[0]:M),a.complete()};try{n.apply(o,r.concat([_]))}catch(M){ci(a)?a.error(M):console.warn(M)}}return a.subscribe(b)}})}}function Pu(n){var t=this,e=n.args,r=n.subscriber,i=n.params,o=i.callbackFunc,a=i.context,l=i.scheduler,b=i.subject;if(!b){b=i.subject=new xn;var _=function(){for(var m=[],M=0;M<arguments.length;M++)m[M]=arguments[M];var x=m.length<=1?m[0]:m;t.add(l.schedule(Bu,0,{value:x,subject:b}))};try{o.apply(a,e.concat([_]))}catch(m){b.error(m)}}this.add(b.subscribe(r))}function Bu(n){var t=n.value,e=n.subject;e.next(t),e.complete()}function os(n,t,e){if(t)if(Yt(t))e=t;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return os(n,e).apply(void 0,r).pipe(ne(function(o){return Ht(o)?t.apply(void 0,o):t(o)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={subject:void 0,args:r,callbackFunc:n,scheduler:e,context:this};return new A(function(a){var l=o.context,b=o.subject;if(e)return e.schedule(Lu,0,{params:o,subscriber:a,context:l});if(!b){b=o.subject=new xn;var _=function(){for(var m=[],M=0;M<arguments.length;M++)m[M]=arguments[M];var x=m.shift();if(x){b.error(x);return}b.next(m.length<=1?m[0]:m),b.complete()};try{n.apply(l,r.concat([_]))}catch(m){ci(b)?b.error(m):console.warn(m)}}return b.subscribe(a)})}}function Lu(n){var t=this,e=n.params,r=n.subscriber,i=n.context,o=e.callbackFunc,a=e.args,l=e.scheduler,b=e.subject;if(!b){b=e.subject=new xn;var _=function(){for(var m=[],M=0;M<arguments.length;M++)m[M]=arguments[M];var x=m.shift();if(x)t.add(l.schedule(to,0,{err:x,subject:b}));else{var k=m.length<=1?m[0]:m;t.add(l.schedule(Fu,0,{value:k,subject:b}))}};try{o.apply(i,a.concat([_]))}catch(m){this.add(l.schedule(to,0,{err:m,subject:b}))}}this.add(b.subscribe(r))}function Fu(n){var t=n.value,e=n.subject;e.next(t),e.complete()}function to(n){var t=n.err,e=n.subject;e.error(t)}var ze=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.notifyNext=function(e,r,i,o,a){this.destination.next(r)},t.prototype.notifyError=function(e,r){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(E),ju=function(n){S(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(E),Wu=function(n){return function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,cn),t}};function $u(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _e=$u(),Uu=function(n){return function(t){var e=n[_e]();do{var r=void 0;try{r=e.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}},qu=function(n){return function(t){var e=n[wn]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}},ss=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function as(n){return!!n&&typeof n.subscribe!="function"&&typeof n.then=="function"}var Ln=function(n){if(n&&typeof n[wn]=="function")return qu(n);if(ss(n))return Jo(n);if(as(n))return Wu(n);if(n&&typeof n[_e]=="function")return Uu(n);var t=ui(n)?"an invalid object":"'"+n+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)};function de(n,t,e,r,i){if(i===void 0&&(i=new ju(n,e,r)),!i.closed)return t instanceof A?t.subscribe(i):Ln(t)(i)}var eo={};function Vu(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=void 0,r=void 0;return Yt(n[n.length-1])&&(r=n.pop()),typeof n[n.length-1]=="function"&&(e=n.pop()),n.length===1&&Ht(n[0])&&(n=n[0]),Gn(n,r).lift(new pi(e))}var pi=function(){function n(t){this.resultSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new zu(t,this.resultSelector))},n}(),zu=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(e){this.values.push(eo),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,r=e.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var o=e[i];this.add(de(this,o,void 0,i))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,r,i){var o=this.values,a=o[i],l=this.toRespond?a===eo?--this.toRespond:this.toRespond:0;o[i]=r,l===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var r;try{r=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(ze);function Hu(n,t){return new A(function(e){var r=new Tt;return r.add(t.schedule(function(){var i=n[wn]();r.add(i.subscribe({next:function(o){r.add(t.schedule(function(){return e.next(o)}))},error:function(o){r.add(t.schedule(function(){return e.error(o)}))},complete:function(){r.add(t.schedule(function(){return e.complete()}))}}))})),r})}function Ku(n,t){return new A(function(e){var r=new Tt;return r.add(t.schedule(function(){return n.then(function(i){r.add(t.schedule(function(){e.next(i),r.add(t.schedule(function(){return e.complete()}))}))},function(i){r.add(t.schedule(function(){return e.error(i)}))})})),r})}function Gu(n,t){if(!n)throw new Error("Iterable cannot be null");return new A(function(e){var r=new Tt,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(t.schedule(function(){i=n[_e](),r.add(t.schedule(function(){if(!e.closed){var o,a;try{var l=i.next();o=l.value,a=l.done}catch(b){e.error(b);return}a?e.complete():(e.next(o),this.schedule())}}))})),r})}function Qu(n){return n&&typeof n[wn]=="function"}function Yu(n){return n&&typeof n[_e]=="function"}function us(n,t){if(n!=null){if(Qu(n))return Hu(n,t);if(as(n))return Ku(n,t);if(ss(n))return hi(n,t);if(Yu(n)||typeof n=="string")return Gu(n,t)}throw new TypeError((n!==null&&typeof n||n)+" is not observable")}function pe(n,t){return t?us(n,t):n instanceof A?n:new A(Ln(n))}var Ot=function(n){S(t,n);function t(e){var r=n.call(this)||this;return r.parent=e,r}return t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(E),Nt=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(E);function At(n,t){if(!t.closed)return n instanceof A?n.subscribe(t):Ln(n)(t)}function qe(n,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(r){return r.pipe(qe(function(i,o){return pe(n(i,o)).pipe(ne(function(a,l){return t(i,a,o,l)}))},e))}:(typeof t=="number"&&(e=t),function(r){return r.lift(new Ju(n,e))})}var Ju=function(){function n(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return n.prototype.call=function(t,e){return e.subscribe(new Zu(t,this.project,this.concurrent))},n}(),Zu=function(n){S(t,n);function t(e,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=n.call(this,e)||this;return o.project=r,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var r,i=this.index++;try{r=this.project(e,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(r)},t.prototype._innerSub=function(e){var r=new Ot(this),i=this.destination;i.add(r);var o=At(e,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Nt),Xu=qe;function bi(n){return n===void 0&&(n=Number.POSITIVE_INFINITY),qe(we,n)}function cs(){return bi(1)}function Fn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return cs()(Sr.apply(void 0,n))}function vi(n){return new A(function(t){var e;try{e=n()}catch(i){t.error(i);return}var r=e?pe(e):_n();return r.subscribe(t)})}function tc(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(n.length===1){var e=n[0];if(Ht(e))return rr(e,null);if(ui(e)&&Object.getPrototypeOf(e)===Object.prototype){var r=Object.keys(e);return rr(r.map(function(o){return e[o]}),r)}}if(typeof n[n.length-1]=="function"){var i=n.pop();return n=n.length===1&&Ht(n[0])?n[0]:n,rr(n,null).pipe(ne(function(o){return i.apply(void 0,o)}))}return rr(n,null)}function rr(n,t){return new A(function(e){var r=n.length;if(r===0){e.complete();return}for(var i=new Array(r),o=0,a=0,l=function(_){var m=pe(n[_]),M=!1;e.add(m.subscribe({next:function(x){M||(M=!0,a++),i[_]=x},error:function(x){return e.error(x)},complete:function(){o++,(o===r||!M)&&(a===r&&e.next(t?t.reduce(function(x,k,N){return x[k]=i[N],x},{}):i),e.complete())}}))},b=0;b<r;b++)l(b)})}function ls(n,t,e,r){return dn(e)&&(r=e,e=void 0),r?ls(n,t,e).pipe(ne(function(i){return Ht(i)?r.apply(void 0,i):r(i)})):new A(function(i){function o(a){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(a)}hs(n,t,o,i,e)})}function hs(n,t,e,r,i){var o;if(rc(n)){var a=n;n.addEventListener(t,e,i),o=function(){return a.removeEventListener(t,e,i)}}else if(nc(n)){var l=n;n.on(t,e),o=function(){return l.off(t,e)}}else if(ec(n)){var b=n;n.addListener(t,e),o=function(){return b.removeListener(t,e)}}else if(n&&n.length)for(var _=0,m=n.length;_<m;_++)hs(n[_],t,e,r,i);else throw new TypeError("Invalid event target");r.add(o)}function ec(n){return n&&typeof n.addListener=="function"&&typeof n.removeListener=="function"}function nc(n){return n&&typeof n.on=="function"&&typeof n.off=="function"}function rc(n){return n&&typeof n.addEventListener=="function"&&typeof n.removeEventListener=="function"}function fs(n,t,e){return e?fs(n,t).pipe(ne(function(r){return Ht(r)?e.apply(void 0,r):e(r)})):new A(function(r){var i=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return r.next(a.length===1?a[0]:a)},o;try{o=n(i)}catch(a){r.error(a);return}if(dn(t))return function(){return t(i,o)}})}function ic(n,t,e,r,i){var o,a;if(arguments.length==1){var l=n;a=l.initialState,t=l.condition,e=l.iterate,o=l.resultSelector||we,i=l.scheduler}else r===void 0||Yt(r)?(a=n,o=we,i=r):(a=n,o=r);return new A(function(b){var _=a;if(i)return i.schedule(oc,0,{subscriber:b,iterate:e,condition:t,resultSelector:o,state:_});do{if(t){var m=void 0;try{m=t(_)}catch(x){b.error(x);return}if(!m){b.complete();break}}var M=void 0;try{M=o(_)}catch(x){b.error(x);return}if(b.next(M),b.closed)break;try{_=e(_)}catch(x){b.error(x);return}}while(!0)})}function oc(n){var t=n.subscriber,e=n.condition;if(!t.closed){if(n.needIterate)try{n.state=n.iterate(n.state)}catch(o){t.error(o);return}else n.needIterate=!0;if(e){var r=void 0;try{r=e(n.state)}catch(o){t.error(o);return}if(!r){t.complete();return}if(t.closed)return}var i;try{i=n.resultSelector(n.state)}catch(o){t.error(o);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(n)}}function sc(n,t,e){return t===void 0&&(t=pn),e===void 0&&(e=pn),vi(function(){return n()?t:e})}function vn(n){return!Ht(n)&&n-parseFloat(n)+1>=0}function ac(n,t){return n===void 0&&(n=0),t===void 0&&(t=Kt),(!vn(n)||n<0)&&(n=0),(!t||typeof t.schedule!="function")&&(t=Kt),new A(function(e){return e.add(t.schedule(uc,n,{subscriber:e,counter:0,period:n})),e})}function uc(n){var t=n.subscriber,e=n.counter,r=n.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:r},r)}function ds(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Number.POSITIVE_INFINITY,r=null,i=n[n.length-1];return Yt(i)?(r=n.pop(),n.length>1&&typeof n[n.length-1]=="number"&&(e=n.pop())):typeof i=="number"&&(e=n.pop()),r===null&&n.length===1&&n[0]instanceof A?n[0]:bi(e)(Gn(n,r))}var ps=new A(se);function cc(){return ps}function Jr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(n.length===0)return pn;var e=n[0],r=n.slice(1);return n.length===1&&Ht(e)?Jr.apply(void 0,e):new A(function(i){var o=function(){return i.add(Jr.apply(void 0,r).subscribe(i))};return pe(e).subscribe({next:function(a){i.next(a)},error:o,complete:o})})}function lc(n,t){return t?new A(function(e){var r=Object.keys(n),i=new Tt;return i.add(t.schedule(hc,0,{keys:r,index:0,subscriber:e,subscription:i,obj:n})),i}):new A(function(e){for(var r=Object.keys(n),i=0;i<r.length&&!e.closed;i++){var o=r[i];n.hasOwnProperty(o)&&e.next([o,n[o]])}e.complete()})}function hc(n){var t=n.keys,e=n.index,r=n.subscriber,i=n.subscription,o=n.obj;if(!r.closed)if(e<t.length){var a=t[e];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:e+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function bs(n,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return e.pred=n,e.thisArg=t,e}function xe(n,t){return function(r){return r.lift(new fc(n,t))}}var fc=function(){function n(t,e){this.predicate=t,this.thisArg=e}return n.prototype.call=function(t,e){return e.subscribe(new dc(t,this.predicate,this.thisArg))},n}(),dc=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return t.prototype._next=function(e){var r;try{r=this.predicate.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(e)},t}(E);function pc(n,t,e){return[xe(t,e)(new A(Ln(n))),xe(bs(t,e))(new A(Ln(n)))]}function vs(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(n.length===1)if(Ht(n[0]))n=n[0];else return n[0];return Gn(n,void 0).lift(new bc)}var bc=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new vc(t))},n}(),vc=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,r=e.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var o=e[i],a=de(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(a),this.add(a)}this.observables=null}},t.prototype.notifyNext=function(e,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(r)},t}(ze);function gc(n,t,e){return n===void 0&&(n=0),new A(function(r){t===void 0&&(t=n,n=0);var i=0,o=n;if(e)return e.schedule(mc,0,{index:i,count:t,start:n,subscriber:r});do{if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}while(!0)})}function mc(n){var t=n.start,e=n.index,r=n.count,i=n.subscriber;if(e>=r){i.complete();return}i.next(t),!i.closed&&(n.index=e+1,n.start=t+1,this.schedule(n))}function gs(n,t,e){n===void 0&&(n=0);var r=-1;return vn(t)?r=Number(t)<1&&1||Number(t):Yt(t)&&(e=t),Yt(e)||(e=Kt),new A(function(i){var o=vn(n)?n:+n-e.now();return e.schedule(yc,o,{index:0,period:r,subscriber:i})})}function yc(n){var t=n.index,e=n.period,r=n.subscriber;if(r.next(t),!r.closed){if(e===-1)return r.complete();n.index=t+1,this.schedule(n,e)}}function wc(n,t){return new A(function(e){var r;try{r=n()}catch(l){e.error(l);return}var i;try{i=t(r)}catch(l){e.error(l);return}var o=i?pe(i):pn,a=o.subscribe(e);return function(){a.unsubscribe(),r&&r.unsubscribe()}})}function ms(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[n.length-1];return typeof e=="function"&&n.pop(),Gn(n,void 0).lift(new ys(e))}var ys=function(){function n(t){this.resultSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new _c(t,this.resultSelector))},n}(),_c=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.resultSelector=r,o.iterators=[],o.active=0,o.resultSelector=typeof r=="function"?r:void 0,o}return t.prototype._next=function(e){var r=this.iterators;Ht(e)?r.push(new Sc(e)):typeof e[_e]=="function"?r.push(new xc(e[_e]())):r.push(new kc(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,r=e.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var o=e[i];if(o.stillUnsubscribed){var a=this.destination;a.add(o.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,r=e.length,i=this.destination,o=0;o<r;o++){var a=e[o];if(typeof a.hasValue=="function"&&!a.hasValue())return}for(var l=!1,b=[],o=0;o<r;o++){var a=e[o],_=a.next();if(a.hasCompleted()&&(l=!0),_.done){i.complete();return}b.push(_.value)}this.resultSelector?this._tryresultSelector(b):i.next(b),l&&i.complete()},t.prototype._tryresultSelector=function(e){var r;try{r=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(E),xc=function(){function n(t){this.iterator=t,this.nextResult=t.next()}return n.prototype.hasValue=function(){return!0},n.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},n.prototype.hasCompleted=function(){var t=this.nextResult;return!!(t&&t.done)},n}(),Sc=function(){function n(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return n.prototype[_e]=function(){return this},n.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},n.prototype.hasValue=function(){return this.array.length>this.index},n.prototype.hasCompleted=function(){return this.array.length===this.index},n}(),kc=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return t.prototype[_e]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return At(this.observable,new Ot(this))},t}(Nt);const Mc=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:bn,AsyncSubject:xn,BehaviorSubject:Go,ConnectableObservable:Ko,EMPTY:pn,EmptyError:Qn,GroupedObservable:Kr,NEVER:ps,Notification:fe,get NotificationKind(){return Qr},ObjectUnsubscribedError:ge,Observable:A,ReplaySubject:di,Scheduler:Gr,Subject:jt,Subscriber:E,Subscription:Tt,TimeoutError:rs,UnsubscriptionError:Rn,VirtualAction:ns,VirtualTimeScheduler:Cu,animationFrame:Tu,animationFrameScheduler:es,asap:ur,asapScheduler:Xo,async:Kt,asyncScheduler:ts,bindCallback:is,bindNodeCallback:os,combineLatest:Vu,concat:Fn,config:Xt,defer:vi,empty:_n,forkJoin:tc,from:pe,fromEvent:ls,fromEventPattern:fs,generate:ic,identity:we,iif:sc,interval:ac,isObservable:Iu,merge:ds,never:cc,noop:se,observable:wn,of:Sr,onErrorResumeNext:Jr,pairs:lc,partition:pc,pipe:Hr,queue:Yo,queueScheduler:Qo,race:vs,range:gc,scheduled:us,throwError:fi,timer:gs,using:wc,zip:ms},Symbol.toStringTag,{value:"Module"})),Yn=Wn(Mc);function ws(n){return function(e){return e.lift(new Ec(n))}}var Ec=function(){function n(t){this.durationSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new Tc(t,this.durationSelector))},n}(),Tc=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i}return t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(e)}catch(a){return this.destination.error(a)}var o=At(r,new Ot(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},t.prototype.clearThrottle=function(){var e=this,r=e.value,i=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(Nt);function Cc(n,t){return t===void 0&&(t=Kt),ws(function(){return gs(n,t)})}function Ic(n){return function(e){return e.lift(new Oc(n))}}var Oc=function(){function n(t){this.closingNotifier=t}return n.prototype.call=function(t,e){return e.subscribe(new Nc(t,this.closingNotifier))},n}(),Nc=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.buffer=[],i.add(At(r,new Ot(i))),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(Nt);function Ac(n,t){return t===void 0&&(t=null),function(r){return r.lift(new Rc(n,t))}}var Rc=function(){function n(t,e){this.bufferSize=t,this.startBufferEvery=e,!e||t===e?this.subscriberClass=Dc:this.subscriberClass=Pc}return n.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},n}(),Dc=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.bufferSize=r,i.buffer=[],i}return t.prototype._next=function(e){var r=this.buffer;r.push(e),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},t.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),n.prototype._complete.call(this)},t}(E),Pc=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.bufferSize=r,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return t.prototype._next=function(e){var r=this,i=r.bufferSize,o=r.startBufferEvery,a=r.buffers,l=r.count;this.count++,l%o===0&&a.push([]);for(var b=a.length;b--;){var _=a[b];_.push(e),_.length===i&&(a.splice(b,1),this.destination.next(_))}},t.prototype._complete=function(){for(var e=this,r=e.buffers,i=e.destination;r.length>0;){var o=r.shift();o.length>0&&i.next(o)}n.prototype._complete.call(this)},t}(E);function Bc(n){var t=arguments.length,e=Kt;Yt(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(a){return a.lift(new Lc(n,r,i,e))}}var Lc=function(){function n(t,e,r,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=i}return n.prototype.call=function(t,e){return e.subscribe(new jc(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},n}(),Fc=function(){function n(){this.buffer=[]}return n}(),jc=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;l.bufferTimeSpan=r,l.bufferCreationInterval=i,l.maxBufferSize=o,l.scheduler=a,l.contexts=[];var b=l.openContext();if(l.timespanOnly=i==null||i<0,l.timespanOnly){var _={subscriber:l,context:b,bufferTimeSpan:r};l.add(b.closeAction=a.schedule(no,r,_))}else{var m={subscriber:l,context:b},M={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:l,scheduler:a};l.add(b.closeAction=a.schedule(_s,r,m)),l.add(a.schedule(Wc,i,M))}return l}return t.prototype._next=function(e){for(var r=this.contexts,i=r.length,o,a=0;a<i;a++){var l=r[a],b=l.buffer;b.push(e),b.length==this.maxBufferSize&&(o=l)}o&&this.onBufferFull(o)},t.prototype._error=function(e){this.contexts.length=0,n.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this,r=e.contexts,i=e.destination;r.length>0;){var o=r.shift();i.next(o.buffer)}n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var r=e.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){e=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:e,bufferTimeSpan:i};this.add(e.closeAction=this.scheduler.schedule(no,i,o))}},t.prototype.openContext=function(){var e=new Fc;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var r=this.contexts,i=r?r.indexOf(e):-1;i>=0&&r.splice(r.indexOf(e),1)},t}(E);function no(n){var t=n.subscriber,e=n.context;e&&t.closeContext(e),t.closed||(n.context=t.openContext(),n.context.closeAction=this.schedule(n,n.bufferTimeSpan))}function Wc(n){var t=n.bufferCreationInterval,e=n.bufferTimeSpan,r=n.subscriber,i=n.scheduler,o=r.openContext(),a=this;r.closed||(r.add(o.closeAction=i.schedule(_s,e,{subscriber:r,context:o})),a.schedule(n,t))}function _s(n){var t=n.subscriber,e=n.context;t.closeContext(e)}function $c(n,t){return function(r){return r.lift(new Uc(n,t))}}var Uc=function(){function n(t,e){this.openings=t,this.closingSelector=e}return n.prototype.call=function(t,e){return e.subscribe(new qc(t,this.openings,this.closingSelector))},n}(),qc=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.closingSelector=i,o.contexts=[],o.add(de(o,r)),o}return t.prototype._next=function(e){for(var r=this.contexts,i=r.length,o=0;o<i;o++)r[o].buffer.push(e)},t.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,n.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,n.prototype._complete.call(this)},t.prototype.notifyNext=function(e,r){e?this.closeBuffer(e):this.openBuffer(r)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var r=this.closingSelector,i=r.call(this,e);i&&this.trySubscribe(i)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(e){var r=this.contexts;if(r&&e){var i=e.buffer,o=e.subscription;this.destination.next(i),r.splice(r.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var r=this.contexts,i=[],o=new Tt,a={buffer:i,subscription:o};r.push(a);var l=de(this,e,a);!l||l.closed?this.closeBuffer(a):(l.context=a,this.add(l),o.add(l))},t}(ze);function Vc(n){return function(t){return t.lift(new zc(n))}}var zc=function(){function n(t){this.closingSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new Hc(t,this.closingSelector))},n}(),Hc=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(a){return this.error(a)}e=new Tt,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(At(i,new Ot(this))),this.subscribing=!1},t}(Nt);function Kc(n){return function(e){var r=new Gc(n),i=e.lift(r);return r.caught=i}}var Gc=function(){function n(t){this.selector=t}return n.prototype.call=function(t,e){return e.subscribe(new Qc(t,this.selector,this.caught))},n}(),Qc=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.selector=r,o.caught=i,o}return t.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(a){n.prototype.error.call(this,a);return}this._unsubscribeAndRecycle();var i=new Ot(this);this.add(i);var o=At(r,i);o!==i&&this.add(o)}},t}(Nt);function Yc(n){return function(t){return t.lift(new pi(n))}}function Jc(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=null;return typeof n[n.length-1]=="function"&&(e=n.pop()),n.length===1&&Ht(n[0])&&(n=n[0].slice()),function(r){return r.lift.call(pe([r].concat(n)),new pi(e))}}function Zc(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return e.lift.call(Fn.apply(void 0,[e].concat(n)))}}function xs(n,t){return qe(n,t,1)}function Xc(n,t){return xs(function(){return n},t)}function tl(n){return function(t){return t.lift(new el(n,t))}}var el=function(){function n(t,e){this.predicate=t,this.source=e}return n.prototype.call=function(t,e){return e.subscribe(new nl(t,this.predicate,this.source))},n}(),nl=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.predicate=r,o.source=i,o.count=0,o.index=0,o}return t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var r;try{r=this.predicate(e,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(E);function rl(n){return function(t){return t.lift(new il(n))}}var il=function(){function n(t){this.durationSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new ol(t,this.durationSelector))},n}(),ol=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.durationSelector=r,i.hasValue=!1,i}return t.prototype._next=function(e){try{var r=this.durationSelector.call(this,e);r&&this._tryNext(e,r)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,r){var i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=At(r,new Ot(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,n.prototype._next.call(this,e)}},t}(Nt);function sl(n,t){return t===void 0&&(t=Kt),function(e){return e.lift(new al(n,t))}}var al=function(){function n(t,e){this.dueTime=t,this.scheduler=e}return n.prototype.call=function(t,e){return e.subscribe(new ul(t,this.dueTime,this.scheduler))},n}(),ul=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cl,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;e!==null&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(E);function cl(n){n.debouncedNext()}function Jn(n){return n===void 0&&(n=null),function(t){return t.lift(new ll(n))}}var ll=function(){function n(t){this.defaultValue=t}return n.prototype.call=function(t,e){return e.subscribe(new hl(t,this.defaultValue))},n}(),hl=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.defaultValue=r,i.isEmpty=!0,i}return t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(E);function Ss(n){return n instanceof Date&&!isNaN(+n)}function fl(n,t){t===void 0&&(t=Kt);var e=Ss(n),r=e?+n-t.now():Math.abs(n);return function(i){return i.lift(new dl(r,t))}}var dl=function(){function n(t,e){this.delay=t,this.scheduler=e}return n.prototype.call=function(t,e){return e.subscribe(new pl(t,this.delay,this.scheduler))},n}(),pl=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return t.dispatch=function(e){for(var r=e.source,i=r.queue,o=e.scheduler,a=e.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var l=Math.max(0,i[0].time-o.now());this.schedule(e,l)}else this.unsubscribe(),r.active=!1},t.prototype._schedule=function(e){this.active=!0;var r=this.destination;r.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var r=this.scheduler,i=new bl(r.now()+this.delay,e);this.queue.push(i),this.active===!1&&this._schedule(r)}},t.prototype._next=function(e){this.scheduleNotification(fe.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(fe.createComplete()),this.unsubscribe()},t}(E),bl=function(){function n(t,e){this.time=t,this.notification=e}return n}();function vl(n,t){return t?function(e){return new ml(e,t).lift(new ro(n))}:function(e){return e.lift(new ro(n))}}var ro=function(){function n(t){this.delayDurationSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new gl(t,this.delayDurationSelector))},n}(),gl=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.prototype.notifyNext=function(e,r,i,o,a){this.destination.next(e),this.removeSubscription(a),this.tryComplete()},t.prototype.notifyError=function(e,r){this._error(e)},t.prototype.notifyComplete=function(e){var r=this.removeSubscription(e);r&&this.destination.next(r),this.tryComplete()},t.prototype._next=function(e){var r=this.index++;try{var i=this.delayDurationSelector(e,r);i&&this.tryDelay(i,e)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(e);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),e.outerValue},t.prototype.tryDelay=function(e,r){var i=de(this,e,r);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(ze),ml=function(n){S(t,n);function t(e,r){var i=n.call(this)||this;return i.source=e,i.subscriptionDelay=r,i}return t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new yl(e,this.source))},t}(A),yl=function(n){S(t,n);function t(e,r){var i=n.call(this)||this;return i.parent=e,i.source=r,i.sourceSubscribed=!1,i}return t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(E);function wl(){return function(t){return t.lift(new _l)}}var _l=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new xl(t))},n}(),xl=function(n){S(t,n);function t(e){return n.call(this,e)||this}return t.prototype._next=function(e){e.observe(this.destination)},t}(E);function Sl(n,t){return function(e){return e.lift(new kl(n,t))}}var kl=function(){function n(t,e){this.keySelector=t,this.flushes=e}return n.prototype.call=function(t,e){return e.subscribe(new Ml(t,this.keySelector,this.flushes))},n}(),Ml=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.keySelector=r,o.values=new Set,i&&o.add(At(i,new Ot(o))),o}return t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var r,i=this.destination;try{r=this.keySelector(e)}catch(o){i.error(o);return}this._finalizeNext(r,e)},t.prototype._finalizeNext=function(e,r){var i=this.values;i.has(e)||(i.add(e),this.destination.next(r))},t}(Nt);function ks(n,t){return function(e){return e.lift(new El(n,t))}}var El=function(){function n(t,e){this.compare=t,this.keySelector=e}return n.prototype.call=function(t,e){return e.subscribe(new Tl(t,this.compare,this.keySelector))},n}(),Tl=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.keySelector=i,o.hasKey=!1,typeof r=="function"&&(o.compare=r),o}return t.prototype.compare=function(e,r){return e===r},t.prototype._next=function(e){var r;try{var i=this.keySelector;r=i?i(e):e}catch(l){return this.destination.error(l)}var o=!1;if(this.hasKey)try{var a=this.compare;o=a(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;o||(this.key=r,this.destination.next(e))},t}(E);function Cl(n,t){return ks(function(e,r){return t?t(e[n],r[n]):e[n]===r[n]})}function kr(n){return n===void 0&&(n=Nl),function(t){return t.lift(new Il(n))}}var Il=function(){function n(t){this.errorFactory=t}return n.prototype.call=function(t,e){return e.subscribe(new Ol(t,this.errorFactory))},n}(),Ol=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.errorFactory=r,i.hasValue=!1,i}return t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(r){e=r}this.destination.error(e)},t}(E);function Nl(){return new Qn}function gi(n){return function(t){return n===0?_n():t.lift(new Al(n))}}var Al=function(){function n(t){if(this.total=t,this.total<0)throw new bn}return n.prototype.call=function(t,e){return e.subscribe(new Rl(t,this.total))},n}(),Rl=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.total=r,i.count=0,i}return t.prototype._next=function(e){var r=this.total,i=++this.count;i<=r&&(this.destination.next(e),i===r&&(this.destination.complete(),this.unsubscribe()))},t}(E);function Dl(n,t){if(n<0)throw new bn;var e=arguments.length>=2;return function(r){return r.pipe(xe(function(i,o){return o===n}),gi(1),e?Jn(t):kr(function(){return new bn}))}}function Pl(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return Fn(e,Sr.apply(void 0,n))}}function Bl(n,t){return function(e){return e.lift(new Ll(n,t,e))}}var Ll=function(){function n(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return n.prototype.call=function(t,e){return e.subscribe(new Fl(t,this.predicate,this.thisArg,this.source))},n}(),Fl=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||a,a}return t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var r=!1;try{r=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(E);function jl(){return function(n){return n.lift(new Wl)}}var Wl=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new $l(t))},n}(),$l=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(At(e,new Ot(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(Nt);function Ms(n,t){return t?function(e){return e.pipe(Ms(function(r,i){return pe(n(r,i)).pipe(ne(function(o,a){return t(r,o,i,a)}))}))}:function(e){return e.lift(new Ul(n))}}var Ul=function(){function n(t){this.project=t}return n.prototype.call=function(t,e){return e.subscribe(new ql(t,this.project))},n}(),ql=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var r,i=this.index++;try{r=this.project(e,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(r)},t.prototype._innerSub=function(e){var r=new Ot(this),i=this.destination;i.add(r);var o=At(e,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(Nt);function Vl(n,t,e){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new zl(n,t,e))}}var zl=function(){function n(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return n.prototype.call=function(t,e){return e.subscribe(new Hl(t,this.project,this.concurrent,this.scheduler))},n}(),Hl=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.project=r,a.concurrent=i,a.scheduler=o,a.index=0,a.active=0,a.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(a.buffer=[]),a}return t.dispatch=function(e){var r=e.subscriber,i=e.result,o=e.value,a=e.index;r.subscribeToProjection(i,o,a)},t.prototype._next=function(e){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(e);try{var o=this.project,a=o(e,i);if(!this.scheduler)this.subscribeToProjection(a,e,i);else{var l={subscriber:this,result:a,value:e,index:i},b=this.destination;b.add(this.scheduler.schedule(t.dispatch,0,l))}}catch(_){r.error(_)}}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,r,i){this.active++;var o=this.destination;o.add(At(e,new Ot(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(Nt);function Kl(n){return function(t){return t.lift(new Gl(n))}}var Gl=function(){function n(t){this.callback=t}return n.prototype.call=function(t,e){return e.subscribe(new Ql(t,this.callback))},n}(),Ql=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.add(new Tt(r)),i}return t}(E);function Yl(n,t){if(typeof n!="function")throw new TypeError("predicate is not a function");return function(e){return e.lift(new Es(n,e,!1,t))}}var Es=function(){function n(t,e,r,i){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=i}return n.prototype.call=function(t,e){return e.subscribe(new Jl(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},n}(),Jl=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;return l.predicate=r,l.source=i,l.yieldIndex=o,l.thisArg=a,l.index=0,l}return t.prototype.notifyComplete=function(e){var r=this.destination;r.next(e),r.complete(),this.unsubscribe()},t.prototype._next=function(e){var r=this,i=r.predicate,o=r.thisArg,a=this.index++;try{var l=i.call(o||this,e,a,this.source);l&&this.notifyComplete(this.yieldIndex?a:e)}catch(b){this.destination.error(b)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(E);function Zl(n,t){return function(e){return e.lift(new Es(n,e,!0,t))}}function Xl(n,t){var e=arguments.length>=2;return function(r){return r.pipe(n?xe(function(i,o){return n(i,o,r)}):we,gi(1),e?Jn(t):kr(function(){return new Qn}))}}function th(){return function(t){return t.lift(new eh)}}var eh=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new nh(t))},n}(),nh=function(n){S(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._next=function(e){},t}(E);function rh(){return function(n){return n.lift(new ih)}}var ih=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new oh(t))},n}(),oh=function(n){S(t,n);function t(e){return n.call(this,e)||this}return t.prototype.notifyComplete=function(e){var r=this.destination;r.next(e),r.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(E);function dr(n){return function(e){return n===0?_n():e.lift(new sh(n))}}var sh=function(){function n(t){if(this.total=t,this.total<0)throw new bn}return n.prototype.call=function(t,e){return e.subscribe(new ah(t,this.total))},n}(),ah=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.total=r,i.ring=new Array,i.count=0,i}return t.prototype._next=function(e){var r=this.ring,i=this.total,o=this.count++;if(r.length<i)r.push(e);else{var a=o%i;r[a]=e}},t.prototype._complete=function(){var e=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,a=0;a<i;a++){var l=r++%i;e.next(o[l])}e.complete()},t}(E);function uh(n,t){var e=arguments.length>=2;return function(r){return r.pipe(n?xe(function(i,o){return n(i,o,r)}):we,dr(1),e?Jn(t):kr(function(){return new Qn}))}}function ch(n){return function(t){return t.lift(new lh(n))}}var lh=function(){function n(t){this.value=t}return n.prototype.call=function(t,e){return e.subscribe(new hh(t,this.value))},n}(),hh=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.value=r,i}return t.prototype._next=function(e){this.destination.next(this.value)},t}(E);function fh(){return function(t){return t.lift(new dh)}}var dh=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new ph(t))},n}(),ph=function(n){S(t,n);function t(e){return n.call(this,e)||this}return t.prototype._next=function(e){this.destination.next(fe.createNext(e))},t.prototype._error=function(e){var r=this.destination;r.next(fe.createError(e)),r.complete()},t.prototype._complete=function(){var e=this.destination;e.next(fe.createComplete()),e.complete()},t}(E);function pr(n,t){var e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new bh(n,t,e))}}var bh=function(){function n(t,e,r){r===void 0&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return n.prototype.call=function(t,e){return e.subscribe(new vh(t,this.accumulator,this.seed,this.hasSeed))},n}(),vh=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(!this.hasSeed)this.seed=e,this.destination.next(e);else return this._tryNext(e)},t.prototype._tryNext=function(e){var r=this.index++,i;try{i=this.accumulator(this.seed,e,r)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},t}(E);function Mr(n,t){return arguments.length>=2?function(r){return Hr(pr(n,t),dr(1),Jn(t))(r)}:function(r){return Hr(pr(function(i,o,a){return n(i,o,a+1)}),dr(1))(r)}}function gh(n){var t=typeof n=="function"?function(e,r){return n(e,r)>0?e:r}:function(e,r){return e>r?e:r};return Mr(t)}function mh(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return e.lift.call(ds.apply(void 0,[e].concat(n)))}}function yh(n,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?qe(function(){return n},t,e):(typeof t=="number"&&(e=t),qe(function(){return n},e))}function wh(n,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),function(r){return r.lift(new _h(n,t,e))}}var _h=function(){function n(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return n.prototype.call=function(t,e){return e.subscribe(new xh(t,this.accumulator,this.seed,this.concurrent))},n}(),xh=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.accumulator=r,a.acc=i,a.concurrent=o,a.hasValue=!1,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return t.prototype._next=function(e){if(this.active<this.concurrent){var r=this.index++,i=this.destination,o=void 0;try{var a=this.accumulator;o=a(this.acc,e,r)}catch(l){return i.error(l)}this.active++,this._innerSub(o)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var r=new Ot(this),i=this.destination;i.add(r);var o=At(e,r);o!==r&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var r=this.destination;this.acc=e,this.hasValue=!0,r.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(Nt);function Sh(n){var t=typeof n=="function"?function(e,r){return n(e,r)<0?e:r}:function(e,r){return e<r?e:r};return Mr(t)}function Ve(n,t){return function(r){var i;if(typeof n=="function"?i=n:i=function(){return n},typeof t=="function")return r.lift(new kh(i,t));var o=Object.create(r,ou);return o.source=r,o.subjectFactory=i,o}}var kh=function(){function n(t,e){this.subjectFactory=t,this.selector=e}return n.prototype.call=function(t,e){var r=this.selector,i=this.subjectFactory(),o=r(i).subscribe(t);return o.add(e.subscribe(i)),o},n}();function Mh(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.length===1&&Ht(n[0])&&(n=n[0]),function(e){return e.lift(new Eh(n))}}var Eh=function(){function n(t){this.nextSources=t}return n.prototype.call=function(t,e){return e.subscribe(new Th(t,this.nextSources))},n}(),Th=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.destination=e,i.nextSources=r,i}return t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var r=new Ot(this),i=this.destination;i.add(r);var o=At(e,r);o!==r&&i.add(o)}else this.destination.complete()},t}(Nt);function Ch(){return function(n){return n.lift(new Ih)}}var Ih=function(){function n(){}return n.prototype.call=function(t,e){return e.subscribe(new Oh(t))},n}(),Oh=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.hasPrev=!1,r}return t.prototype._next=function(e){var r;this.hasPrev?r=[this.prev,e]:this.hasPrev=!0,this.prev=e,r&&this.destination.next(r)},t}(E);function Nh(n,t){return function(e){return[xe(n,t)(e),xe(bs(n,t))(e)]}}function Ah(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.length;if(e===0)throw new Error("list of properties cannot be empty.");return function(r){return ne(Rh(n,e))(r)}}function Rh(n,t){var e=function(r){for(var i=r,o=0;o<t;o++){var a=i!=null?i[n[o]]:void 0;if(a!==void 0)i=a;else return}return i};return e}function Dh(n){return n?Ve(function(){return new jt},n):Ve(new jt)}function Ph(n){return function(t){return Ve(new Go(n))(t)}}function Bh(){return function(n){return Ve(new xn)(n)}}function Lh(n,t,e,r){e&&typeof e!="function"&&(r=e);var i=typeof e=="function"?e:void 0,o=new di(n,t,r);return function(a){return Ve(function(){return o},i)(a)}}function Fh(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(r){return n.length===1&&Ht(n[0])&&(n=n[0]),r.lift.call(vs.apply(void 0,[r].concat(n)))}}function jh(n){return n===void 0&&(n=-1),function(t){return n===0?_n():n<0?t.lift(new io(-1,t)):t.lift(new io(n-1,t))}}var io=function(){function n(t,e){this.count=t,this.source=e}return n.prototype.call=function(t,e){return e.subscribe(new Wh(t,this.count,this.source))},n}(),Wh=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.count=r,o.source=i,o}return t.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,i=e.count;if(i===0)return n.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(E);function $h(n){return function(t){return t.lift(new Uh(n))}}var Uh=function(){function n(t){this.notifier=t}return n.prototype.call=function(t,e){return e.subscribe(new qh(t,this.notifier,e))},n}(),qh=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.notifier=r,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return n.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return n.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this,r=e.notifications,i=e.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,n.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},t.prototype.subscribeToRetries=function(){this.notifications=new jt;var e;try{var r=this.notifier;e=r(this.notifications)}catch{return n.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=At(e,new Ot(this))},t}(Nt);function Vh(n){return n===void 0&&(n=-1),function(t){return t.lift(new zh(n,t))}}var zh=function(){function n(t,e){this.count=t,this.source=e}return n.prototype.call=function(t,e){return e.subscribe(new Hh(t,this.count,this.source))},n}(),Hh=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.count=r,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var r=this,i=r.source,o=r.count;if(o===0)return n.prototype.error.call(this,e);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(E);function Kh(n){return function(t){return t.lift(new Gh(n,t))}}var Gh=function(){function n(t,e){this.notifier=t,this.source=e}return n.prototype.call=function(t,e){return e.subscribe(new Qh(t,this.notifier,this.source))},n}(),Qh=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.notifier=r,o.source=i,o}return t.prototype.error=function(e){if(!this.isStopped){var r=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new jt;try{var a=this.notifier;i=a(r)}catch(l){return n.prototype.error.call(this,l)}o=At(i,new Ot(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=o,r.next(e)}},t.prototype._unsubscribe=function(){var e=this,r=e.errors,i=e.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(Nt);function Yh(n){return function(t){return t.lift(new Jh(n))}}var Jh=function(){function n(t){this.notifier=t}return n.prototype.call=function(t,e){var r=new Zh(t),i=e.subscribe(r);return i.add(At(this.notifier,new Ot(r))),i},n}(),Zh=function(n){S(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.hasValue=!1,e}return t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(Nt);function Xh(n,t){return t===void 0&&(t=Kt),function(e){return e.lift(new tf(n,t))}}var tf=function(){function n(t,e){this.period=t,this.scheduler=e}return n.prototype.call=function(t,e){return e.subscribe(new ef(t,this.period,this.scheduler))},n}(),ef=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.period=r,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(nf,r,{subscriber:o,period:r})),o}return t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(E);function nf(n){var t=n.subscriber,e=n.period;t.notifyNext(),this.schedule(n,e)}function rf(n,t){return function(e){return e.lift(new of(n,t))}}var of=function(){function n(t,e){this.compareTo=t,this.comparator=e}return n.prototype.call=function(t,e){return e.subscribe(new sf(t,this.compareTo,this.comparator))},n}(),sf=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.compareTo=r,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(r.subscribe(new af(e,o))),o}return t.prototype._next=function(e){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,r=e._a,i=e._b,o=e.comparator;r.length>0&&i.length>0;){var a=r.shift(),l=i.shift(),b=!1;try{b=o?o(a,l):a===l}catch(_){this.destination.error(_)}b||this.emit(!1)}},t.prototype.emit=function(e){var r=this.destination;r.next(e),r.complete()},t.prototype.nextB=function(e){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(E),af=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.parent=r,i}return t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(E);function uf(){return new jt}function cf(){return function(n){return li()(Ve(uf)(n))}}function lf(n,t,e){var r;return n&&typeof n=="object"?r=n:r={bufferSize:n,windowTime:t,refCount:!1,scheduler:e},function(i){return i.lift(hf(r))}}function hf(n){var t=n.bufferSize,e=t===void 0?Number.POSITIVE_INFINITY:t,r=n.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,o=n.refCount,a=n.scheduler,l,b=0,_,m=!1,M=!1;return function(k){b++;var N;!l||m?(m=!1,l=new di(e,i,a),N=l.subscribe(this),_=k.subscribe({next:function(L){l.next(L)},error:function(L){m=!0,l.error(L)},complete:function(){M=!0,_=void 0,l.complete()}})):N=l.subscribe(this),this.add(function(){b--,N.unsubscribe(),_&&!M&&o&&b===0&&(_.unsubscribe(),_=void 0,l=void 0)})}}function ff(n){return function(t){return t.lift(new df(n,t))}}var df=function(){function n(t,e){this.predicate=t,this.source=e}return n.prototype.call=function(t,e){return e.subscribe(new pf(t,this.predicate,this.source))},n}(),pf=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.predicate=r,o.source=i,o.seenValue=!1,o.index=0,o}return t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var r=this.index++;this.predicate?this.tryNext(e,r):this.applySingleValue(e)},t.prototype.tryNext=function(e,r){try{this.predicate(e,r,this.source)&&this.applySingleValue(e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Qn)},t}(E);function bf(n){return function(t){return t.lift(new vf(n))}}var vf=function(){function n(t){this.total=t}return n.prototype.call=function(t,e){return e.subscribe(new gf(t,this.total))},n}(),gf=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.total=r,i.count=0,i}return t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(E);function mf(n){return function(t){return t.lift(new yf(n))}}var yf=function(){function n(t){if(this._skipCount=t,this._skipCount<0)throw new bn}return n.prototype.call=function(t,e){return this._skipCount===0?e.subscribe(new E(t)):e.subscribe(new wf(t,this._skipCount))},n}(),wf=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return t.prototype._next=function(e){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=e;else{var o=i%r,a=this._ring,l=a[o];a[o]=e,this.destination.next(l)}},t}(E);function _f(n){return function(t){return t.lift(new xf(n))}}var xf=function(){function n(t){this.notifier=t}return n.prototype.call=function(t,e){return e.subscribe(new Sf(t,this.notifier))},n}(),Sf=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;i.hasValue=!1;var o=new Ot(i);i.add(o),i.innerSubscription=o;var a=At(r,o);return a!==o&&(i.add(a),i.innerSubscription=a),i}return t.prototype._next=function(e){this.hasValue&&n.prototype._next.call(this,e)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(Nt);function kf(n){return function(t){return t.lift(new Mf(n))}}var Mf=function(){function n(t){this.predicate=t}return n.prototype.call=function(t,e){return e.subscribe(new Ef(t,this.predicate))},n}(),Ef=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return t.prototype._next=function(e){var r=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||r.next(e)},t.prototype.tryCallPredicate=function(e){try{var r=this.predicate(e,this.index++);this.skipping=!!r}catch(i){this.destination.error(i)}},t}(E);function Tf(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[n.length-1];return Yt(e)?(n.pop(),function(r){return Fn(n,r,e)}):function(r){return Fn(n,r)}}var Cf=function(n){S(t,n);function t(e,r,i){r===void 0&&(r=0),i===void 0&&(i=ur);var o=n.call(this)||this;return o.source=e,o.delayTime=r,o.scheduler=i,(!vn(r)||r<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=ur),o}return t.create=function(e,r,i){return r===void 0&&(r=0),i===void 0&&(i=ur),new t(e,r,i)},t.dispatch=function(e){var r=e.source,i=e.subscriber;return this.add(r.subscribe(i))},t.prototype._subscribe=function(e){var r=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(t.dispatch,r,{source:i,subscriber:e})},t}(A);function If(n,t){return t===void 0&&(t=0),function(r){return r.lift(new Of(n,t))}}var Of=function(){function n(t,e){this.scheduler=t,this.delay=e}return n.prototype.call=function(t,e){return new Cf(e,this.delay,this.scheduler).subscribe(t)},n}();function jn(n,t){return typeof t=="function"?function(e){return e.pipe(jn(function(r,i){return pe(n(r,i)).pipe(ne(function(o,a){return t(r,o,i,a)}))}))}:function(e){return e.lift(new Nf(n))}}var Nf=function(){function n(t){this.project=t}return n.prototype.call=function(t,e){return e.subscribe(new Af(t,this.project))},n}(),Af=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.project=r,i.index=0,i}return t.prototype._next=function(e){var r,i=this.index++;try{r=this.project(e,i)}catch(o){this.destination.error(o);return}this._innerSub(r)},t.prototype._innerSub=function(e){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Ot(this),o=this.destination;o.add(i),this.innerSubscription=At(e,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},t.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&n.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&n.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Nt);function Rf(){return jn(we)}function Df(n,t){return t?jn(function(){return n},t):jn(function(){return n})}function Pf(n){return function(t){return t.lift(new Bf(n))}}var Bf=function(){function n(t){this.notifier=t}return n.prototype.call=function(t,e){var r=new Lf(t),i=At(this.notifier,new Ot(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r},n}(),Lf=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.seenValue=!1,r}return t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Nt);function Ff(n,t){return t===void 0&&(t=!1),function(e){return e.lift(new jf(n,t))}}var jf=function(){function n(t,e){this.predicate=t,this.inclusive=e}return n.prototype.call=function(t,e){return e.subscribe(new Wf(t,this.predicate,this.inclusive))},n}(),Wf=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.predicate=r,o.inclusive=i,o.index=0,o}return t.prototype._next=function(e){var r=this.destination,i;try{i=this.predicate(e,this.index++)}catch(o){r.error(o);return}this.nextOrComplete(e,i)},t.prototype.nextOrComplete=function(e,r){var i=this.destination;r?i.next(e):(this.inclusive&&i.next(e),i.complete())},t}(E);function $f(n,t,e){return function(i){return i.lift(new Uf(n,t,e))}}var Uf=function(){function n(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return n.prototype.call=function(t,e){return e.subscribe(new qf(t,this.nextOrObserver,this.error,this.complete))},n}(),qf=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a._tapNext=se,a._tapError=se,a._tapComplete=se,a._tapError=i||se,a._tapComplete=o||se,dn(r)?(a._context=a,a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||se,a._tapError=r.error||se,a._tapComplete=r.complete||se),a}return t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(r){this.destination.error(r);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(r){this.destination.error(r);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(E),Ts={leading:!0,trailing:!1};function Vf(n,t){return t===void 0&&(t=Ts),function(e){return e.lift(new zf(n,!!t.leading,!!t.trailing))}}var zf=function(){function n(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return n.prototype.call=function(t,e){return e.subscribe(new Hf(t,this.durationSelector,this.leading,this.trailing))},n}(),Hf=function(n){S(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.destination=e,a.durationSelector=r,a._leading=i,a._trailing=o,a._hasValue=!1,a}return t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,r=e._hasValue,i=e._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var r=this.tryDurationSelector(e);r&&this.add(this._throttled=At(r,new Ot(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(r){return this.destination.error(r),null}},t.prototype.throttlingDone=function(){var e=this,r=e._throttled,i=e._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(Nt);function Kf(n,t,e){return t===void 0&&(t=Kt),e===void 0&&(e=Ts),function(r){return r.lift(new Gf(n,t,e.leading,e.trailing))}}var Gf=function(){function n(t,e,r,i){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=i}return n.prototype.call=function(t,e){return e.subscribe(new Qf(t,this.duration,this.scheduler,this.leading,this.trailing))},n}(),Qf=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;return l.duration=r,l.scheduler=i,l.leading=o,l.trailing=a,l._hasTrailingValue=!1,l._trailingValue=null,l}return t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Yf,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(E);function Yf(n){var t=n.subscriber;t.clearThrottle()}function Jf(n){return n===void 0&&(n=Kt),function(t){return vi(function(){return t.pipe(pr(function(e,r){var i=e.current;return{value:r,current:n.now(),last:i}},{current:n.now(),value:void 0,last:void 0}),ne(function(e){var r=e.current,i=e.last,o=e.value;return new Zf(o,r-i)}))})}}var Zf=function(){function n(t,e){this.value=t,this.interval=e}return n}();function Cs(n,t,e){return e===void 0&&(e=Kt),function(r){var i=Ss(n),o=i?+n-e.now():Math.abs(n);return r.lift(new Xf(o,i,t,e))}}var Xf=function(){function n(t,e,r,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=i}return n.prototype.call=function(t,e){return e.subscribe(new td(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},n}(),td=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;return l.absoluteTimeout=r,l.waitFor=i,l.withObservable=o,l.scheduler=a,l.scheduleTimeout(),l}return t.dispatchTimeout=function(e){var r=e.withObservable;e._unsubscribeAndRecycle(),e.add(At(r,new Ot(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),n.prototype._next.call(this,e)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(Nt);function ed(n,t){return t===void 0&&(t=Kt),Cs(n,fi(new rs),t)}function nd(n){return n===void 0&&(n=Kt),ne(function(t){return new rd(t,n.now())})}var rd=function(){function n(t,e){this.value=t,this.timestamp=e}return n}();function id(n,t,e){return e===0?[t]:(n.push(t),n)}function od(){return Mr(id,[])}function sd(n){return function(e){return e.lift(new ad(n))}}var ad=function(){function n(t){this.windowBoundaries=t}return n.prototype.call=function(t,e){var r=new ud(t),i=e.subscribe(r);return i.closed||r.add(At(this.windowBoundaries,new Ot(r))),i},n}(),ud=function(n){S(t,n);function t(e){var r=n.call(this,e)||this;return r.window=new jt,e.next(r.window),r}return t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var r=this.destination,i=this.window=new jt;r.next(i)},t}(Nt);function cd(n,t){return t===void 0&&(t=0),function(r){return r.lift(new ld(n,t))}}var ld=function(){function n(t,e){this.windowSize=t,this.startWindowEvery=e}return n.prototype.call=function(t,e){return e.subscribe(new hd(t,this.windowSize,this.startWindowEvery))},n}(),hd=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.destination=e,o.windowSize=r,o.startWindowEvery=i,o.windows=[new jt],o.count=0,e.next(o.windows[0]),o}return t.prototype._next=function(e){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,a=this.windows,l=a.length,b=0;b<l&&!this.closed;b++)a[b].next(e);var _=this.count-o+1;if(_>=0&&_%r===0&&!this.closed&&a.shift().complete(),++this.count%r===0&&!this.closed){var m=new jt;a.push(m),i.next(m)}},t.prototype._error=function(e){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(E);function fd(n){var t=Kt,e=null,r=Number.POSITIVE_INFINITY;return Yt(arguments[3])&&(t=arguments[3]),Yt(arguments[2])?t=arguments[2]:vn(arguments[2])&&(r=Number(arguments[2])),Yt(arguments[1])?t=arguments[1]:vn(arguments[1])&&(e=Number(arguments[1])),function(o){return o.lift(new dd(n,e,r,t))}}var dd=function(){function n(t,e,r,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=i}return n.prototype.call=function(t,e){return e.subscribe(new bd(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},n}(),pd=function(n){S(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return t.prototype.next=function(e){this._numberOfNextedValues++,n.prototype.next.call(this,e)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(jt),bd=function(n){S(t,n);function t(e,r,i,o,a){var l=n.call(this,e)||this;l.destination=e,l.windowTimeSpan=r,l.windowCreationInterval=i,l.maxWindowSize=o,l.scheduler=a,l.windows=[];var b=l.openWindow();if(i!==null&&i>=0){var _={subscriber:l,window:b,context:null},m={windowTimeSpan:r,windowCreationInterval:i,subscriber:l,scheduler:a};l.add(a.schedule(Is,r,_)),l.add(a.schedule(gd,i,m))}else{var M={subscriber:l,window:b,windowTimeSpan:r};l.add(a.schedule(vd,r,M))}return l}return t.prototype._next=function(e){for(var r=this.windows,i=r.length,o=0;o<i;o++){var a=r[o];a.closed||(a.next(e),a.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(a))}},t.prototype._error=function(e){for(var r=this.windows;r.length>0;)r.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var r=e.shift();r.closed||r.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new pd;this.windows.push(e);var r=this.destination;return r.next(e),e},t.prototype.closeWindow=function(e){e.complete();var r=this.windows;r.splice(r.indexOf(e),1)},t}(E);function vd(n){var t=n.subscriber,e=n.windowTimeSpan,r=n.window;r&&t.closeWindow(r),n.window=t.openWindow(),this.schedule(n,e)}function gd(n){var t=n.windowTimeSpan,e=n.subscriber,r=n.scheduler,i=n.windowCreationInterval,o=e.openWindow(),a=this,l={action:a,subscription:null},b={subscriber:e,window:o,context:l};l.subscription=r.schedule(Is,t,b),a.add(l.subscription),a.schedule(n,i)}function Is(n){var t=n.subscriber,e=n.window,r=n.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(e)}function md(n,t){return function(e){return e.lift(new yd(n,t))}}var yd=function(){function n(t,e){this.openings=t,this.closingSelector=e}return n.prototype.call=function(t,e){return e.subscribe(new wd(t,this.openings,this.closingSelector))},n}(),wd=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.openings=r,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=de(o,r,r)),o}return t.prototype._next=function(e){var r=this.contexts;if(r)for(var i=r.length,o=0;o<i;o++)r[o].window.next(e)},t.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,o=-1;++o<i;){var a=r[o];a.window.error(e),a.subscription.unsubscribe()}n.prototype._error.call(this,e)},t.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var o=e[i];o.window.complete(),o.subscription.unsubscribe()}n.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,i=-1;++i<r;){var o=e[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,r,i,o,a){if(e===this.openings){var l=void 0;try{var b=this.closingSelector;l=b(r)}catch(k){return this.error(k)}var _=new jt,m=new Tt,M={window:_,subscription:m};this.contexts.push(M);var x=de(this,l,M);x.closed?this.closeWindow(this.contexts.length-1):(x.context=M,m.add(x)),this.destination.next(_)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(e!==-1){var r=this.contexts,i=r[e],o=i.window,a=i.subscription;r.splice(e,1),o.complete(),a.unsubscribe()}},t}(ze);function _d(n){return function(e){return e.lift(new xd(n))}}var xd=function(){function n(t){this.closingSelector=t}return n.prototype.call=function(t,e){return e.subscribe(new Sd(t,this.closingSelector))},n}(),Sd=function(n){S(t,n);function t(e,r){var i=n.call(this,e)||this;return i.destination=e,i.closingSelector=r,i.openWindow(),i}return t.prototype.notifyNext=function(e,r,i,o,a){this.openWindow(a)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){e===void 0&&(e=null),e&&(this.remove(e),e.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new jt;this.destination.next(i);var o;try{var a=this.closingSelector;o=a()}catch(l){this.destination.error(l),this.window.error(l);return}this.add(this.closingNotification=de(this,o))},t}(ze);function kd(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){var r;typeof n[n.length-1]=="function"&&(r=n.pop());var i=n;return e.lift(new Md(i,r))}}var Md=function(){function n(t,e){this.observables=t,this.project=e}return n.prototype.call=function(t,e){return e.subscribe(new Ed(t,this.observables,this.project))},n}(),Ed=function(n){S(t,n);function t(e,r,i){var o=n.call(this,e)||this;o.observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var l=0;l<a;l++)o.toRespond.push(l);for(var l=0;l<a;l++){var b=r[l];o.add(de(o,b,void 0,l))}return o}return t.prototype.notifyNext=function(e,r,i){this.values[i]=r;var o=this.toRespond;if(o.length>0){var a=o.indexOf(i);a!==-1&&o.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(this.toRespond.length===0){var r=[e].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},t.prototype._tryProject=function(e){var r;try{r=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(r)},t}(ze);function Td(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(r){return r.lift.call(ms.apply(void 0,[r].concat(n)))}}function Cd(n){return function(t){return t.lift(new ys(n))}}const Id=Object.freeze(Object.defineProperty({__proto__:null,audit:ws,auditTime:Cc,buffer:Ic,bufferCount:Ac,bufferTime:Bc,bufferToggle:$c,bufferWhen:Vc,catchError:Kc,combineAll:Yc,combineLatest:Jc,concat:Zc,concatAll:cs,concatMap:xs,concatMapTo:Xc,count:tl,debounce:rl,debounceTime:sl,defaultIfEmpty:Jn,delay:fl,delayWhen:vl,dematerialize:wl,distinct:Sl,distinctUntilChanged:ks,distinctUntilKeyChanged:Cl,elementAt:Dl,endWith:Pl,every:Bl,exhaust:jl,exhaustMap:Ms,expand:Vl,filter:xe,finalize:Kl,find:Yl,findIndex:Zl,first:Xl,flatMap:Xu,groupBy:au,ignoreElements:th,isEmpty:rh,last:uh,map:ne,mapTo:ch,materialize:fh,max:gh,merge:mh,mergeAll:bi,mergeMap:qe,mergeMapTo:yh,mergeScan:wh,min:Sh,multicast:Ve,observeOn:gu,onErrorResumeNext:Mh,pairwise:Ch,partition:Nh,pluck:Ah,publish:Dh,publishBehavior:Ph,publishLast:Bh,publishReplay:Lh,race:Fh,reduce:Mr,refCount:li,repeat:jh,repeatWhen:$h,retry:Vh,retryWhen:Kh,sample:Yh,sampleTime:Xh,scan:pr,sequenceEqual:rf,share:cf,shareReplay:lf,single:ff,skip:bf,skipLast:mf,skipUntil:_f,skipWhile:kf,startWith:Tf,subscribeOn:If,switchAll:Rf,switchMap:jn,switchMapTo:Df,take:gi,takeLast:dr,takeUntil:Pf,takeWhile:Ff,tap:$f,throttle:Vf,throttleTime:Kf,throwIfEmpty:kr,timeInterval:Jf,timeout:ed,timeoutWith:Cs,timestamp:nd,toArray:od,window:sd,windowCount:cd,windowTime:fd,windowToggle:md,windowWhen:_d,withLatestFrom:kd,zip:Td,zipAll:Cd},Symbol.toStringTag,{value:"Module"})),Er=Wn(Id);var mi={},O,Os,Dn,Ns,oo,yi,As,ye={},wi=[],Od=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function he(n,t){for(var e in t)n[e]=t[e];return n}function Rs(n){var t=n.parentNode;t&&t.removeChild(n)}function Zr(n,t,e){var r,i,o,a=arguments,l={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:l[o]=t[o];if(arguments.length>3)for(e=[e],o=3;o<arguments.length;o++)e.push(a[o]);if(e!=null&&(l.children=e),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)l[o]===void 0&&(l[o]=n.defaultProps[o]);return Pn(n,l,r,i,null)}function Pn(n,t,e,r,i){var o={type:n,props:t,key:e,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++O.__v};return O.vnode!=null&&O.vnode(o),o}function Nd(){return{current:null}}function Zn(n){return n.children}function Bn(n,t){this.props=n,this.context=t}function hn(n,t){if(t==null)return n.__?hn(n.__,n.__.__k.indexOf(n)+1):null;for(var e;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null)return e.__e;return typeof n.type=="function"?hn(n):null}function Ds(n){var t,e;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null){n.__e=n.__c.base=e.__e;break}return Ds(n)}}function Xr(n){(!n.__d&&(n.__d=!0)&&Dn.push(n)&&!br.__r++||oo!==O.debounceRendering)&&((oo=O.debounceRendering)||Ns)(br)}function br(){for(var n;br.__r=Dn.length;)n=Dn.sort(function(t,e){return t.__v.__b-e.__v.__b}),Dn=[],n.some(function(t){var e,r,i,o,a,l;t.__d&&(a=(o=(e=t).__v).__e,(l=e.__P)&&(r=[],(i=he({},o)).__v=o.__v+1,_i(l,o,i,e.__n,l.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??hn(o),o.__h),js(r,o),o.__e!=a&&Ds(o)))})}function Ps(n,t,e,r,i,o,a,l,b,_){var m,M,x,k,N,L,R,D=r&&r.__k||wi,Rt=D.length;for(b==ye&&(b=a!=null?a[0]:Rt?hn(r,0):null),e.__k=[],m=0;m<t.length;m++)if((k=e.__k[m]=(k=t[m])==null||typeof k=="boolean"?null:typeof k=="string"||typeof k=="number"?Pn(null,k,null,null,k):Array.isArray(k)?Pn(Zn,{children:k},null,null,null):k.__b>0?Pn(k.type,k.props,k.key,null,k.__v):k)!=null){if(k.__=e,k.__b=e.__b+1,(x=D[m])===null||x&&k.key==x.key&&k.type===x.type)D[m]=void 0;else for(M=0;M<Rt;M++){if((x=D[M])&&k.key==x.key&&k.type===x.type){D[M]=void 0;break}x=null}_i(n,k,x=x||ye,i,o,a,l,b,_),N=k.__e,(M=k.ref)&&x.ref!=M&&(R||(R=[]),x.ref&&R.push(x.ref,null,k),R.push(M,k.__c||N,k)),N!=null?(L==null&&(L=N),typeof k.type=="function"&&k.__k!=null&&k.__k===x.__k?k.__d=b=Bs(k,b,n):b=Fs(n,k,x,D,a,N,b),_||e.type!=="option"?typeof e.type=="function"&&(e.__d=b):n.value=""):b&&x.__e==b&&b.parentNode!=n&&(b=hn(x))}if(e.__e=L,a!=null&&typeof e.type!="function")for(m=a.length;m--;)a[m]!=null&&Rs(a[m]);for(m=Rt;m--;)D[m]!=null&&(typeof e.type=="function"&&D[m].__e!=null&&D[m].__e==e.__d&&(e.__d=hn(r,m+1)),$s(D[m],D[m]));if(R)for(m=0;m<R.length;m++)Ws(R[m],R[++m],R[++m])}function Bs(n,t,e){var r,i;for(r=0;r<n.__k.length;r++)(i=n.__k[r])&&(i.__=n,t=typeof i.type=="function"?Bs(i,t,e):Fs(e,i,i,n.__k,null,i.__e,t));return t}function Ls(n,t){return t=t||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(e){Ls(e,t)}):t.push(n)),t}function Fs(n,t,e,r,i,o,a){var l,b,_;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(i==e||o!=a||o.parentNode==null)t:if(a==null||a.parentNode!==n)n.appendChild(o),l=null;else{for(b=a,_=0;(b=b.nextSibling)&&_<r.length;_+=2)if(b==o)break t;n.insertBefore(o,a),l=a}return l!==void 0?l:o.nextSibling}function Ad(n,t,e,r,i){var o;for(o in e)o==="children"||o==="key"||o in t||vr(n,o,null,e[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||e[o]===t[o]||vr(n,o,t[o],e[o],r)}function so(n,t,e){t[0]==="-"?n.setProperty(t,e):n[t]=e==null?"":typeof e!="number"||Od.test(t)?e:e+"px"}function vr(n,t,e,r,i){var o,a,l;if(i&&t=="className"&&(t="class"),t==="style")if(typeof e=="string")n.style.cssText=e;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(t in r)e&&t in e||so(n.style,t,"");if(e)for(t in e)r&&e[t]===r[t]||so(n.style,t,e[t])}else t[0]==="o"&&t[1]==="n"?(o=t!==(t=t.replace(/Capture$/,"")),(a=t.toLowerCase())in n&&(t=a),t=t.slice(2),n.l||(n.l={}),n.l[t+o]=e,l=o?Dd:Rd,e?r||n.addEventListener(t,l,o):n.removeEventListener(t,l,o)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&t!=="download"&&t!=="href"&&t!=="contentEditable"&&!i&&t in n?n[t]=e??"":typeof e!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/xlink:?/,""))?e==null||e===!1?n.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),e):e==null||e===!1&&!/^ar/.test(t)?n.removeAttribute(t):n.setAttribute(t,e))}function Rd(n){this.l[n.type+!1](O.event?O.event(n):n)}function Dd(n){this.l[n.type+!0](O.event?O.event(n):n)}function _i(n,t,e,r,i,o,a,l,b){var _,m,M,x,k,N,L,R,D,Rt,qt,It=t.type;if(t.constructor!==void 0)return null;e.__h!=null&&(b=e.__h,l=t.__e=e.__e,t.__h=null,o=[l]),(_=O.__b)&&_(t);try{t:if(typeof It=="function"){if(R=t.props,D=(_=It.contextType)&&r[_.__c],Rt=_?D?D.props.value:_.__:r,e.__c?L=(m=t.__c=e.__c).__=m.__E:("prototype"in It&&It.prototype.render?t.__c=m=new It(R,Rt):(t.__c=m=new Bn(R,Rt),m.constructor=It,m.render=Bd),D&&D.sub(m),m.props=R,m.state||(m.state={}),m.context=Rt,m.__n=r,M=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),It.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=he({},m.__s)),he(m.__s,It.getDerivedStateFromProps(R,m.__s))),x=m.props,k=m.state,M)It.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(It.getDerivedStateFromProps==null&&R!==x&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(R,Rt),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(R,m.__s,Rt)===!1||t.__v===e.__v){m.props=R,m.state=m.__s,t.__v!==e.__v&&(m.__d=!1),m.__v=t,t.__e=e.__e,t.__k=e.__k,m.__h.length&&a.push(m);break t}m.componentWillUpdate!=null&&m.componentWillUpdate(R,m.__s,Rt),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(x,k,N)})}m.context=Rt,m.props=R,m.state=m.__s,(_=O.__r)&&_(t),m.__d=!1,m.__v=t,m.__P=n,_=m.render(m.props,m.state,m.context),m.state=m.__s,m.getChildContext!=null&&(r=he(he({},r),m.getChildContext())),M||m.getSnapshotBeforeUpdate==null||(N=m.getSnapshotBeforeUpdate(x,k)),qt=_!=null&&_.type===Zn&&_.key==null?_.props.children:_,Ps(n,Array.isArray(qt)?qt:[qt],t,e,r,i,o,a,l,b),m.base=t.__e,t.__h=null,m.__h.length&&a.push(m),L&&(m.__E=m.__=null),m.__e=!1}else o==null&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=Pd(e.__e,t,e,r,i,o,a,b);(_=O.diffed)&&_(t)}catch(Pt){t.__v=null,(b||o!=null)&&(t.__e=l,t.__h=!!b,o[o.indexOf(l)]=null),O.__e(Pt,t,e)}}function js(n,t){O.__c&&O.__c(t,n),n.some(function(e){try{n=e.__h,e.__h=[],n.some(function(r){r.call(e)})}catch(r){O.__e(r,e.__v)}})}function Pd(n,t,e,r,i,o,a,l){var b,_,m,M,x,k=e.props,N=t.props;if(i=t.type==="svg"||i,o!=null){for(b=0;b<o.length;b++)if((_=o[b])!=null&&((t.type===null?_.nodeType===3:_.localName===t.type)||n==_)){n=_,o[b]=null;break}}if(n==null){if(t.type===null)return document.createTextNode(N);n=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,N.is&&{is:N.is}),o=null,l=!1}if(t.type===null)k===N||l&&n.data===N||(n.data=N);else{if(o!=null&&(o=wi.slice.call(n.childNodes)),m=(k=e.props||ye).dangerouslySetInnerHTML,M=N.dangerouslySetInnerHTML,!l){if(o!=null)for(k={},x=0;x<n.attributes.length;x++)k[n.attributes[x].name]=n.attributes[x].value;(M||m)&&(M&&(m&&M.__html==m.__html||M.__html===n.innerHTML)||(n.innerHTML=M&&M.__html||""))}Ad(n,N,k,i,l),M?t.__k=[]:(b=t.props.children,Ps(n,Array.isArray(b)?b:[b],t,e,r,t.type!=="foreignObject"&&i,o,a,ye,l)),l||("value"in N&&(b=N.value)!==void 0&&(b!==n.value||t.type==="progress"&&!b)&&vr(n,"value",b,k.value,!1),"checked"in N&&(b=N.checked)!==void 0&&b!==n.checked&&vr(n,"checked",b,k.checked,!1))}return n}function Ws(n,t,e){try{typeof n=="function"?n(t):n.current=t}catch(r){O.__e(r,e)}}function $s(n,t,e){var r,i,o;if(O.unmount&&O.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Ws(r,null,t)),e||typeof n.type=="function"||(e=(i=n.__e)!=null),n.__e=n.__d=void 0,(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){O.__e(a,t)}r.base=r.__P=null}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&$s(r[o],t,e);i!=null&&Rs(i)}function Bd(n,t,e){return this.constructor(n,e)}function Us(n,t,e){var r,i,o;O.__&&O.__(n,t),i=(r=e===yi)?null:e&&e.__k||t.__k,n=Zr(Zn,null,[n]),o=[],_i(t,(r?t:e||t).__k=n,i||ye,ye,t.ownerSVGElement!==void 0,e&&!r?[e]:i?null:t.childNodes.length?wi.slice.call(t.childNodes):null,o,e||ye,r),js(o,n)}function Ld(n,t){Us(n,t,yi)}function Fd(n,t,e){var r,i,o,a=arguments,l=he({},n.props);for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:l[o]=t[o];if(arguments.length>3)for(e=[e],o=3;o<arguments.length;o++)e.push(a[o]);return e!=null&&(l.children=e),Pn(n.type,l,r||n.key,i||n.ref,null)}function jd(n,t){var e={__c:t="__cC"+As++,__:n,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(Xr)},this.sub=function(a){i.push(a);var l=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),l&&l.call(a)}}),r.children}};return e.Provider.__=e.Consumer.contextType=e}O={__e:function(n,t){for(var e,r,i,o=t.__h;t=t.__;)if((e=t.__c)&&!e.__)try{if((r=e.constructor)&&r.getDerivedStateFromError!=null&&(e.setState(r.getDerivedStateFromError(n)),i=e.__d),e.componentDidCatch!=null&&(e.componentDidCatch(n),i=e.__d),i)return t.__h=o,e.__E=e}catch(a){n=a}throw n},__v:0},Os=function(n){return n!=null&&n.constructor===void 0},Bn.prototype.setState=function(n,t){var e;e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=he({},this.state),typeof n=="function"&&(n=n(he({},e),this.props)),n&&he(e,n),n!=null&&this.__v&&(t&&this.__h.push(t),Xr(this))},Bn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Xr(this))},Bn.prototype.render=Zn,Dn=[],Ns=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,br.__r=0,yi=ye,As=0;const Wd=Object.freeze(Object.defineProperty({__proto__:null,Component:Bn,Fragment:Zn,cloneElement:Fd,createContext:jd,createElement:Zr,createRef:Nd,h:Zr,hydrate:Ld,get isValidElement(){return Os},get options(){return O},render:Us,toChildArray:Ls},Symbol.toStringTag,{value:"Module"})),Xn=Wn(Wd);var xi={};function qs(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=qs(n[t]))&&(r&&(r+=" "),r+=e);else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $d(){for(var n=0,t,e,r="";n<arguments.length;)(t=arguments[n++])&&(e=qs(t))&&(r&&(r+=" "),r+=e);return r}const Ud=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),Vs=Wn(Ud);var He,Ut,ao,gn=0,ti=[],uo=O.__b,co=O.__r,lo=O.diffed,ho=O.__c,fo=O.unmount;function Sn(n,t){O.__h&&O.__h(Ut,n,gn||t),gn=0;var e=Ut.__H||(Ut.__H={__:[],__h:[]});return n>=e.__.length&&e.__.push({}),e.__[n]}function zs(n){return gn=1,Hs(Gs,n)}function Hs(n,t,e){var r=Sn(He++,2);return r.t=n,r.__c||(r.__=[e?e(t):Gs(void 0,t),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=Ut),r.__}function qd(n,t){var e=Sn(He++,3);!O.__s&&ki(e.__H,t)&&(e.__=n,e.__H=t,Ut.__H.__h.push(e))}function Ks(n,t){var e=Sn(He++,4);!O.__s&&ki(e.__H,t)&&(e.__=n,e.__H=t,Ut.__h.push(e))}function Vd(n){return gn=5,Si(function(){return{current:n}},[])}function zd(n,t,e){gn=6,Ks(function(){typeof n=="function"?n(t()):n&&(n.current=t())},e==null?e:e.concat(n))}function Si(n,t){var e=Sn(He++,7);return ki(e.__H,t)&&(e.__=n(),e.__H=t,e.__h=n),e.__}function Hd(n,t){return gn=8,Si(function(){return n},t)}function Kd(n){var t=Ut.context[n.__c],e=Sn(He++,9);return e.__c=n,t?(e.__==null&&(e.__=!0,t.sub(Ut)),t.props.value):n.__}function Gd(n,t){O.useDebugValue&&O.useDebugValue(t?t(n):n)}function Qd(n){var t=Sn(He++,10),e=zs();return t.__=n,Ut.componentDidCatch||(Ut.componentDidCatch=function(r){t.__&&t.__(r),e[1](r)}),[e[0],function(){e[1](void 0)}]}function Yd(){ti.forEach(function(n){if(n.__P)try{n.__H.__h.forEach(cr),n.__H.__h.forEach(ei),n.__H.__h=[]}catch(t){n.__H.__h=[],O.__e(t,n.__v)}}),ti=[]}O.__b=function(n){Ut=null,uo&&uo(n)},O.__r=function(n){co&&co(n),He=0;var t=(Ut=n.__c).__H;t&&(t.__h.forEach(cr),t.__h.forEach(ei),t.__h=[])},O.diffed=function(n){lo&&lo(n);var t=n.__c;t&&t.__H&&t.__H.__h.length&&(ti.push(t)!==1&&ao===O.requestAnimationFrame||((ao=O.requestAnimationFrame)||function(e){var r,i=function(){clearTimeout(o),po&&cancelAnimationFrame(r),setTimeout(e)},o=setTimeout(i,100);po&&(r=requestAnimationFrame(i))})(Yd)),Ut=void 0},O.__c=function(n,t){t.some(function(e){try{e.__h.forEach(cr),e.__h=e.__h.filter(function(r){return!r.__||ei(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],O.__e(r,e.__v)}}),ho&&ho(n,t)},O.unmount=function(n){fo&&fo(n);var t=n.__c;if(t&&t.__H)try{t.__H.__.forEach(cr)}catch(e){O.__e(e,t.__v)}};var po=typeof requestAnimationFrame=="function";function cr(n){var t=Ut;typeof n.__c=="function"&&n.__c(),Ut=t}function ei(n){var t=Ut;n.__c=n.__(),Ut=t}function ki(n,t){return!n||n.length!==t.length||t.some(function(e,r){return e!==n[r]})}function Gs(n,t){return typeof t=="function"?t(n):t}const Jd=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Hd,useContext:Kd,useDebugValue:Gd,useEffect:qd,useErrorBoundary:Qd,useImperativeHandle:zd,useLayoutEffect:Ks,useMemo:Si,useReducer:Hs,useRef:Vd,useState:zs},Symbol.toStringTag,{value:"Module"})),Mi=Wn(Jd);var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default='.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}';var Ti={};function Qs(n){this.mode=Qt.MODE_8BIT_BYTE,this.data=n,this.parsedData=[];for(var t=0,e=this.data.length;t<e;t++){var r=[],i=this.data.charCodeAt(t);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Qs.prototype={getLength:function(n){return this.parsedData.length},write:function(n){for(var t=0,e=this.parsedData.length;t<e;t++)n.put(this.parsedData[t],8)}};function ue(n,t){this.typeNumber=n,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ue.prototype={addData:function(n){var t=new Qs(n);this.dataList.push(t),this.dataCache=null},isDark:function(n,t){if(n<0||this.moduleCount<=n||t<0||this.moduleCount<=t)throw new Error(n+","+t);return this.modules[n][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(n,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[e][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(n,t),this.typeNumber>=7&&this.setupTypeNumber(n),this.dataCache==null&&(this.dataCache=ue.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(n,t){for(var e=-1;e<=7;e++)if(!(n+e<=-1||this.moduleCount<=n+e))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=e&&e<=6&&(r==0||r==6)||0<=r&&r<=6&&(e==0||e==6)||2<=e&&e<=4&&2<=r&&r<=4?this.modules[n+e][t+r]=!0:this.modules[n+e][t+r]=!1)},getBestMaskPattern:function(){for(var n=0,t=0,e=0;e<8;e++){this.makeImpl(!0,e);var r=Et.getLostPoint(this);(e==0||n>r)&&(n=r,t=e)}return t},createMovieClip:function(n,t,e){var r=n.createEmptyMovieClip(t,e),i=1;this.make();for(var o=0;o<this.modules.length;o++)for(var a=o*i,l=0;l<this.modules[o].length;l++){var b=l*i,_=this.modules[o][l];_&&(r.beginFill(0,100),r.moveTo(b,a),r.lineTo(b+i,a),r.lineTo(b+i,a+i),r.lineTo(b,a+i),r.endFill())}return r},setupTimingPattern:function(){for(var n=8;n<this.moduleCount-8;n++)this.modules[n][6]==null&&(this.modules[n][6]=n%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var n=Et.getPatternPosition(this.typeNumber),t=0;t<n.length;t++)for(var e=0;e<n.length;e++){var r=n[t],i=n[e];if(this.modules[r][i]==null)for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)o==-2||o==2||a==-2||a==2||o==0&&a==0?this.modules[r+o][i+a]=!0:this.modules[r+o][i+a]=!1}},setupTypeNumber:function(n){for(var t=Et.getBCHTypeNumber(this.typeNumber),e=0;e<18;e++){var r=!n&&(t>>e&1)==1;this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=r}for(var e=0;e<18;e++){var r=!n&&(t>>e&1)==1;this.modules[e%3+this.moduleCount-8-3][Math.floor(e/3)]=r}},setupTypeInfo:function(n,t){for(var e=this.errorCorrectLevel<<3|t,r=Et.getBCHTypeInfo(e),i=0;i<15;i++){var o=!n&&(r>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var i=0;i<15;i++){var o=!n&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!n},mapData:function(n,t){for(var e=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var l=0;l<2;l++)if(this.modules[r][a-l]==null){var b=!1;o<n.length&&(b=(n[o]>>>i&1)==1);var _=Et.getMask(t,r,a-l);_&&(b=!b),this.modules[r][a-l]=b,i--,i==-1&&(o++,i=7)}if(r+=e,r<0||this.moduleCount<=r){r-=e,e=-e;break}}}};ue.PAD0=236;ue.PAD1=17;ue.createData=function(n,t,e){for(var r=ae.getRSBlocks(n,t),i=new Ys,o=0;o<e.length;o++){var a=e[o];i.put(a.mode,4),i.put(a.getLength(),Et.getLengthInBits(a.mode,n)),a.write(i)}for(var l=0,o=0;o<r.length;o++)l+=r[o].dataCount;if(i.getLengthInBits()>l*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+l*8+")");for(i.getLengthInBits()+4<=l*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=l*8||(i.put(ue.PAD0,8),i.getLengthInBits()>=l*8));)i.put(ue.PAD1,8);return ue.createBytes(i,r)};ue.createBytes=function(n,t){for(var e=0,r=0,i=0,o=new Array(t.length),a=new Array(t.length),l=0;l<t.length;l++){var b=t[l].dataCount,_=t[l].totalCount-b;r=Math.max(r,b),i=Math.max(i,_),o[l]=new Array(b);for(var m=0;m<o[l].length;m++)o[l][m]=255&n.buffer[m+e];e+=b;var M=Et.getErrorCorrectPolynomial(_),x=new fn(o[l],M.getLength()-1),k=x.mod(M);a[l]=new Array(M.getLength()-1);for(var m=0;m<a[l].length;m++){var N=m+k.getLength()-a[l].length;a[l][m]=N>=0?k.get(N):0}}for(var L=0,m=0;m<t.length;m++)L+=t[m].totalCount;for(var R=new Array(L),D=0,m=0;m<r;m++)for(var l=0;l<t.length;l++)m<o[l].length&&(R[D++]=o[l][m]);for(var m=0;m<i;m++)for(var l=0;l<t.length;l++)m<a[l].length&&(R[D++]=a[l][m]);return R};var Qt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},me={L:1,M:0,Q:3,H:2},be={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(n){for(var t=n<<10;Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15)>=0;)t^=Et.G15<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15);return(n<<10|t)^Et.G15_MASK},getBCHTypeNumber:function(n){for(var t=n<<12;Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18)>=0;)t^=Et.G18<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18);return n<<12|t},getBCHDigit:function(n){for(var t=0;n!=0;)t++,n>>>=1;return t},getPatternPosition:function(n){return Et.PATTERN_POSITION_TABLE[n-1]},getMask:function(n,t,e){switch(n){case be.PATTERN000:return(t+e)%2==0;case be.PATTERN001:return t%2==0;case be.PATTERN010:return e%3==0;case be.PATTERN011:return(t+e)%3==0;case be.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2==0;case be.PATTERN101:return t*e%2+t*e%3==0;case be.PATTERN110:return(t*e%2+t*e%3)%2==0;case be.PATTERN111:return(t*e%3+(t+e)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}},getErrorCorrectPolynomial:function(n){for(var t=new fn([1],0),e=0;e<n;e++)t=t.multiply(new fn([1,Ft.gexp(e)],0));return t},getLengthInBits:function(n,t){if(1<=t&&t<10)switch(n){case Qt.MODE_NUMBER:return 10;case Qt.MODE_ALPHA_NUM:return 9;case Qt.MODE_8BIT_BYTE:return 8;case Qt.MODE_KANJI:return 8;default:throw new Error("mode:"+n)}else if(t<27)switch(n){case Qt.MODE_NUMBER:return 12;case Qt.MODE_ALPHA_NUM:return 11;case Qt.MODE_8BIT_BYTE:return 16;case Qt.MODE_KANJI:return 10;default:throw new Error("mode:"+n)}else if(t<41)switch(n){case Qt.MODE_NUMBER:return 14;case Qt.MODE_ALPHA_NUM:return 13;case Qt.MODE_8BIT_BYTE:return 16;case Qt.MODE_KANJI:return 12;default:throw new Error("mode:"+n)}else throw new Error("type:"+t)},getLostPoint:function(n){for(var t=n.getModuleCount(),e=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=n.isDark(r,i),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var b=-1;b<=1;b++)i+b<0||t<=i+b||l==0&&b==0||a==n.isDark(r+l,i+b)&&o++;o>5&&(e+=3+o-5)}for(var r=0;r<t-1;r++)for(var i=0;i<t-1;i++){var _=0;n.isDark(r,i)&&_++,n.isDark(r+1,i)&&_++,n.isDark(r,i+1)&&_++,n.isDark(r+1,i+1)&&_++,(_==0||_==4)&&(e+=3)}for(var r=0;r<t;r++)for(var i=0;i<t-6;i++)n.isDark(r,i)&&!n.isDark(r,i+1)&&n.isDark(r,i+2)&&n.isDark(r,i+3)&&n.isDark(r,i+4)&&!n.isDark(r,i+5)&&n.isDark(r,i+6)&&(e+=40);for(var i=0;i<t;i++)for(var r=0;r<t-6;r++)n.isDark(r,i)&&!n.isDark(r+1,i)&&n.isDark(r+2,i)&&n.isDark(r+3,i)&&n.isDark(r+4,i)&&!n.isDark(r+5,i)&&n.isDark(r+6,i)&&(e+=40);for(var m=0,i=0;i<t;i++)for(var r=0;r<t;r++)n.isDark(r,i)&&m++;var M=Math.abs(100*m/t/t-50)/5;return e+=M*10,e}},Ft={glog:function(n){if(n<1)throw new Error("glog("+n+")");return Ft.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return Ft.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var $t=0;$t<8;$t++)Ft.EXP_TABLE[$t]=1<<$t;for(var $t=8;$t<256;$t++)Ft.EXP_TABLE[$t]=Ft.EXP_TABLE[$t-4]^Ft.EXP_TABLE[$t-5]^Ft.EXP_TABLE[$t-6]^Ft.EXP_TABLE[$t-8];for(var $t=0;$t<255;$t++)Ft.LOG_TABLE[Ft.EXP_TABLE[$t]]=$t;function fn(n,t){if(n.length==null)throw new Error(n.length+"/"+t);for(var e=0;e<n.length&&n[e]==0;)e++;this.num=new Array(n.length-e+t);for(var r=0;r<n.length-e;r++)this.num[r]=n[r+e]}fn.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var t=new Array(this.getLength()+n.getLength()-1),e=0;e<this.getLength();e++)for(var r=0;r<n.getLength();r++)t[e+r]^=Ft.gexp(Ft.glog(this.get(e))+Ft.glog(n.get(r)));return new fn(t,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var t=Ft.glog(this.get(0))-Ft.glog(n.get(0)),e=new Array(this.getLength()),r=0;r<this.getLength();r++)e[r]=this.get(r);for(var r=0;r<n.getLength();r++)e[r]^=Ft.gexp(Ft.glog(n.get(r))+t);return new fn(e,0).mod(n)}};function ae(n,t){this.totalCount=n,this.dataCount=t}ae.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ae.getRSBlocks=function(n,t){var e=ae.getRsBlockTable(n,t);if(e==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+t);for(var r=e.length/3,i=[],o=0;o<r;o++)for(var a=e[o*3+0],l=e[o*3+1],b=e[o*3+2],_=0;_<a;_++)i.push(new ae(l,b));return i};ae.getRsBlockTable=function(n,t){switch(t){case me.L:return ae.RS_BLOCK_TABLE[(n-1)*4+0];case me.M:return ae.RS_BLOCK_TABLE[(n-1)*4+1];case me.Q:return ae.RS_BLOCK_TABLE[(n-1)*4+2];case me.H:return ae.RS_BLOCK_TABLE[(n-1)*4+3];default:return}};function Ys(){this.buffer=[],this.length=0}Ys.prototype={get:function(n){var t=Math.floor(n/8);return(this.buffer[t]>>>7-n%8&1)==1},put:function(n,t){for(var e=0;e<t;e++)this.putBit((n>>>t-e-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(n){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),n&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Br=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Js(n){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof n=="string"&&(n={content:n}),n)for(var t in n)this.options[t]=n[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function e(b){switch(b){case"L":return me.L;case"M":return me.M;case"Q":return me.Q;case"H":return me.H;default:throw new Error("Unknwon error correction level: "+b)}}function r(b,_){for(var m=i(b),M=1,x=0,k=0,N=Br.length;k<=N;k++){var L=Br[k];if(!L)throw new Error("Content too long: expected "+x+" but got "+m);switch(_){case"L":x=L[0];break;case"M":x=L[1];break;case"Q":x=L[2];break;case"H":x=L[3];break;default:throw new Error("Unknwon error correction level: "+_)}if(m<=x)break;M++}if(M>Br.length)throw new Error("Content too long");return M}function i(b){var _=encodeURI(b).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return _.length+(_.length!=b?3:0)}var o=this.options.content,a=r(o,this.options.ecl),l=e(this.options.ecl);this.qrcode=new ue(a,l),this.qrcode.addData(o),this.qrcode.make()}Js.prototype.svg=function(n){var t=this.options||{},e=this.qrcode.modules;typeof n>"u"&&(n={container:t.container||"svg"});for(var r=typeof t.pretty<"u"?!!t.pretty:!0,i=r?"  ":"",o=r?`\r
`:"",a=t.width,l=t.height,b=e.length,_=a/(b+2*t.padding),m=l/(b+2*t.padding),M=typeof t.join<"u"?!!t.join:!1,x=typeof t.swap<"u"?!!t.swap:!1,k=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,N=typeof t.predefined<"u"?!!t.predefined:!1,L=N?i+'<defs><path id="qrmodule" d="M0 0 h'+m+" v"+_+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",R=i+'<rect x="0" y="0" width="'+a+'" height="'+l+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,D="",Rt="",qt=0;qt<b;qt++)for(var It=0;It<b;It++){var Pt=e[It][qt];if(Pt){var Bt=It*_+t.padding*_,Wt=qt*m+t.padding*m;if(x){var Se=Bt;Bt=Wt,Wt=Se}if(M){var Jt=_+Bt,B=m+Wt;Bt=Number.isInteger(Bt)?Number(Bt):Bt.toFixed(2),Wt=Number.isInteger(Wt)?Number(Wt):Wt.toFixed(2),Jt=Number.isInteger(Jt)?Number(Jt):Jt.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),Rt+="M"+Bt+","+Wt+" V"+B+" H"+Jt+" V"+Wt+" H"+Bt+" Z "}else N?D+=i+'<use x="'+Bt.toString()+'" y="'+Wt.toString()+'" href="#qrmodule" />'+o:D+=i+'<rect x="'+Bt.toString()+'" y="'+Wt.toString()+'" width="'+_+'" height="'+m+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}M&&(D=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+Rt+'" />');var U="";switch(n.container){case"svg":k&&(U+='<?xml version="1.0" standalone="yes"?>'+o),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+l+'">'+o,U+=L+R+D,U+="</svg>";break;case"svg-viewbox":k&&(U+='<?xml version="1.0" standalone="yes"?>'+o),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+l+'">'+o,U+=L+R+D,U+="</svg>";break;case"g":U+='<g width="'+a+'" height="'+l+'">'+o,U+=L+R+D,U+="</g>";break;default:U+=(L+R+D).replace(/^\s+/,"");break}return U};var Zd=Js,Xd=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ti,"__esModule",{value:!0});const tp=Xn,bo=Mi,ep=Xd(Zd);Ti.QRCode=n=>{const[t,e]=bo.useState("");return bo.useEffect(()=>{var r,i;const o=new ep.default({content:n.content,background:n.bgColor||"#ffffff",color:n.fgColor||"#000000",container:"svg",ecl:"M",width:(r=n.width)!==null&&r!==void 0?r:256,height:(i=n.height)!==null&&i!==void 0?i:256,padding:0}),a=Buffer.from(o.svg(),"utf8").toString("base64");e(`data:image/svg+xml;base64,${a}`)}),t?tp.h("img",{src:t,alt:"QR Code"}):null};var Ci={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.default=".-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var np=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ci,"__esModule",{value:!0});const ir=Xn,rp=np(Ii);Ci.Spinner=n=>{var t;const e=(t=n.size)!==null&&t!==void 0?t:64,r=n.color||"#000";return ir.h("div",{class:"-walletlink-spinner"},ir.h("style",null,rp.default),ir.h("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:e,height:e}},ir.h("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};var Zs=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xi,"__esModule",{value:!0});const Lr=Zs(Vs),Dt=Xn,Fr=Mi,ip=Zs(Ei),op=Ti,sp=Ci;xi.LinkDialog=n=>{const[t,e]=Fr.useState(!n.isOpen),[r,i]=Fr.useState(!n.isOpen);return Fr.useEffect(()=>{const{isOpen:o}=n,a=[window.setTimeout(()=>{i(!o)},10)];return o?e(!1):a.push(window.setTimeout(()=>{e(!0)},360)),()=>{a.forEach(window.clearTimeout)}},[n.isOpen]),Dt.h("div",{class:Lr.default("-walletlink-link-dialog-container",n.darkMode&&"-walletlink-link-dialog-container-dark",t&&"-walletlink-link-dialog-container-hidden")},Dt.h("style",null,ip.default),Dt.h("div",{class:Lr.default("-walletlink-link-dialog-backdrop",r&&"-walletlink-link-dialog-backdrop-hidden")}),Dt.h("div",{class:"-walletlink-link-dialog"},Dt.h("div",{class:Lr.default("-walletlink-link-dialog-box",r&&"-walletlink-link-dialog-box-hidden")},Dt.h(ap,{darkMode:n.darkMode,version:n.version,sessionId:n.sessionId,sessionSecret:n.sessionSecret,walletLinkUrl:n.walletLinkUrl,isConnected:n.isConnected}),n.onCancel&&Dt.h(up,{onClick:n.onCancel}))))};const ap=n=>{const t=window.encodeURIComponent(n.walletLinkUrl),e=`${n.walletLinkUrl}/#/link?id=${n.sessionId}&secret=${n.sessionSecret}&server=${t}&v=1`;return Dt.h("div",{class:"-walletlink-link-dialog-box-content"},Dt.h("h3",null,"Scan to",Dt.h("br",null)," Connect"),Dt.h("div",{class:"-walletlink-link-dialog-box-content-qrcode"},Dt.h("div",{class:"-walletlink-link-dialog-box-content-qrcode-wrapper"},Dt.h(op.QRCode,{content:e,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),Dt.h("input",{type:"hidden",value:e}),!n.isConnected&&Dt.h("div",{class:"-walletlink-link-dialog-box-content-qrcode-connecting"},Dt.h(sp.Spinner,{size:128,color:n.darkMode?"#fff":"#000"}),Dt.h("p",null,"Connecting...")),Dt.h("p",{title:`WalletLink v${n.version}`},"Powered by WalletLink")),Dt.h("a",{href:`${n.walletLinkUrl}/#/wallets`,target:"_blank",rel:"noopener"},"Don’t have a wallet app?"))},up=n=>Dt.h("button",{class:"-walletlink-link-dialog-box-cancel",onClick:n.onClick},Dt.h("div",{class:"-walletlink-link-dialog-box-cancel-x"}));Object.defineProperty(mi,"__esModule",{value:!0});const jr=Xn,cp=Yn,lp=xi;class hp{constructor(t){this.subscriptions=new cp.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.walletLinkUrl=t.walletLinkUrl,this.connected$=t.connected$}attach(t){this.root=document.createElement("div"),this.root.className="-walletlink-link-flow-root",t.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(e=>{this.isConnected!==e&&(this.isConnected=e,this.render())}))}detach(){var t;this.root&&(this.subscriptions.unsubscribe(),jr.render(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&jr.render(jr.h(lp.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,onCancel:this.onCancel}),this.root)}}mi.LinkFlow=hp;var Oi={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default='.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar-item{background-color:#fff;border-radius:8px;box-shadow:0px 16px 24px rgba(0,0,0,.06),0px 0px 8px rgba(0,0,0,.04);display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:hidden;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-item-content{align-items:center;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;padding:8px 8px 8px 16px;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-item-content-message{color:#000;font-size:14px;line-height:1.5}.-walletlink-css-reset .-walletlink-snackbar-item-content-chevron{position:relative;display:block;margin:0 8px;transition:transform .05s}.-walletlink-css-reset .-walletlink-snackbar-item-content-chevron::before{position:relative;top:-2px;content:"";display:block;border-top:2px solid #000;border-left:2px solid #000;width:8px;height:8px;transform:rotate(-135deg)}.-walletlink-css-reset .-walletlink-snackbar-item-progress-bar{display:block;height:2px;position:relative}.-walletlink-css-reset .-walletlink-snackbar-item-progress-bar::before{animation:-walletlink-snackbar-progressbar 2s linear infinite;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%);content:"";height:100%;left:-100%;position:absolute;width:100%}.-walletlink-css-reset .-walletlink-snackbar-item-actions{display:none;flex-direction:column;border-top:1px solid #f5f7f8;padding:2px 16px 8px}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item{margin:8px 0}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-info{color:#888;font-size:14px;margin:0 8px 0 0}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-button{-webkit-appearance:none;-webkit-text-fill-color:#1652f0;background:transparent;color:#1652f0;cursor:pointer;display:inline;font-size:14px;margin:0;padding:0;transition:opacity .25s}.-walletlink-css-reset .-walletlink-snackbar-item-actions-item-button:active{opacity:.6}.-walletlink-css-reset .-walletlink-snackbar-item-hidden{opacity:0;text-align:left;transform:translateX(25%)}.-walletlink-css-reset .-walletlink-snackbar-item-expanded .-walletlink-snackbar-item-content-chevron{transform:rotate(180deg)}.-walletlink-css-reset .-walletlink-snackbar-item-expanded .-walletlink-snackbar-item-actions{display:flex}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-content-message{color:#999}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-content-chevron::before{border-top:2px solid #ccc;border-left:2px solid #ccc}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-progress-bar::before{animation:-walletlink-snackbar-progressbar-dark 2s linear infinite;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-actions{border-top:1px solid #343434}.-walletlink-css-reset .-walletlink-snackbar-container-dark .-walletlink-snackbar-item-actions-item-button{-webkit-text-fill-color:#ccc;color:#ccc}@keyframes -walletlink-snackbar-progressbar{0%{left:0;width:0%;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}25%{left:0;width:100%}50%{left:100%;width:0%;background-image:linear-gradient(to right, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}50.01%{background-image:linear-gradient(to left, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}75%{left:0;width:100%}100%{left:0;width:0%;background-image:linear-gradient(to left, rgba(22, 82, 240, 0) 0%, #1652f0 100%)}}@keyframes -walletlink-snackbar-progressbar-dark{0%{left:0;width:0%;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}25%{left:0;width:100%}50%{left:100%;width:0%;background-image:linear-gradient(to right, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}50.01%{background-image:linear-gradient(to left, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}75%{left:0;width:100%}100%{left:0;width:0%;background-image:linear-gradient(to left, rgba(69, 120, 255, 0) 0%, #4578ff 100%)}}';var Xs=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oi,"__esModule",{value:!0});const ta=Xs(Vs),zt=Xn,Wr=Mi,fp=Xs(Ni);class dp{constructor(t){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=t.darkMode}attach(t){this.root=document.createElement("div"),this.root.className="-walletlink-snackbar-root",t.appendChild(this.root),this.render()}presentItem(t){const e=this.nextItemKey++;return this.items.set(e,t),this.render(),()=>{this.items.delete(e),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&zt.render(zt.h(pp,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([t,e])=>zt.h(bp,Object.assign({},e,{key:t})))),this.root)}}Oi.Snackbar=dp;const pp=n=>zt.h("div",{class:ta.default("-walletlink-snackbar-container",n.darkMode&&"-walletlink-snackbar-container-dark")},zt.h("style",null,fp.default),zt.h("div",{class:"-walletlink-snackbar"},n.children)),bp=({message:n,showProgressBar:t,actions:e})=>{const[r,i]=Wr.useState(!0),[o,a]=Wr.useState(!1);Wr.useEffect(()=>{const b=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{b.forEach(window.clearTimeout)}});const l=()=>{a(!o)};return zt.h("div",{class:ta.default("-walletlink-snackbar-item",r&&"-walletlink-snackbar-item-hidden",o&&"-walletlink-snackbar-item-expanded")},zt.h("div",{class:"-walletlink-snackbar-item-content",onClick:l},zt.h("div",{class:"-walletlink-snackbar-item-content-message"},n),zt.h("div",{class:"-walletlink-snackbar-item-content-chevron",title:"Expand"})),t&&zt.h("div",{class:"-walletlink-snackbar-item-progress-bar"}),e&&e.length>0&&zt.h("div",{class:"-walletlink-snackbar-item-actions"},e.map((b,_)=>zt.h("div",{class:"-walletlink-snackbar-item-actions-item",key:_},zt.h("span",{class:"-walletlink-snackbar-item-actions-item-info"},b.info),zt.h("button",{class:"-walletlink-snackbar-item-actions-item-button",onClick:b.onClick},b.buttonLabel)))))};var Ai={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});function vp(n){return Object.assign({type:"HostSession"},n)}Ke.ClientMessageHostSession=vp;function gp(n){return Object.assign({type:"IsLinked"},n)}Ke.ClientMessageIsLinked=gp;function mp(n){return Object.assign({type:"GetSessionConfig"},n)}Ke.ClientMessageGetSessionConfig=mp;function yp(n){return Object.assign({type:"SetSessionConfig"},n)}Ke.ClientMessageSetSessionConfig=yp;function wp(n){return Object.assign({type:"PublishEvent"},n)}Ke.ClientMessagePublishEvent=wp;var ea={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});const t=Yn,e=Er;var r;(function(o){o[o.DISCONNECTED=0]="DISCONNECTED",o[o.CONNECTING=1]="CONNECTING",o[o.CONNECTED=2]="CONNECTED"})(r=n.ConnectionState||(n.ConnectionState={}));class i{constructor(a,l=WebSocket){this.WebSocketClass=l,this.webSocket=null,this.connectionStateSubject=new t.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new t.Subject,this.url=a.replace(/^http/,"ws")}connect(){return this.webSocket?t.throwError(new Error("webSocket object is not null")):new t.Observable(a=>{let l;try{this.webSocket=l=new this.WebSocketClass(this.url)}catch(b){a.error(b);return}this.connectionStateSubject.next(r.CONNECTING),l.onclose=b=>{this.clearWebSocket(),a.error(new Error(`websocket error ${b.code}: ${b.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},l.onopen=b=>{a.next(),a.complete(),this.connectionStateSubject.next(r.CONNECTED)},l.onmessage=b=>{this.incomingDataSubject.next(b.data)}}).pipe(e.take(1))}disconnect(){const{webSocket:a}=this;if(a){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{a.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe(e.flatMap(a=>{let l;try{l=JSON.parse(a)}catch{return t.empty()}return t.of(l)}))}sendData(a){const{webSocket:l}=this;if(!l)throw new Error("websocket is not connected");l.send(a)}clearWebSocket(){const{webSocket:a}=this;a&&(this.webSocket=null,a.onclose=null,a.onerror=null,a.onmessage=null,a.onopen=null)}}n.RxWebSocket=i})(ea);var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});function _p(n){return n&&n.type==="Fail"&&typeof n.id=="number"&&typeof n.sessionId=="string"&&typeof n.error=="string"}Ri.isServerMessageFail=_p;Object.defineProperty(Ai,"__esModule",{value:!0});const re=Yn,P=Er,sn=ce,Nn=Ke,or=ea,$r=Ri,vo=1e4,xp=6e4;class Sp{constructor(t,e,r,i=WebSocket){this.sessionId=t,this.sessionKey=e,this.subscriptions=new re.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=sn.IntNumber(1),this.connectedSubject=new re.BehaviorSubject(!1),this.linkedSubject=new re.BehaviorSubject(!1),this.sessionConfigSubject=new re.ReplaySubject(1);const o=new or.RxWebSocket(r+"/rpc",i);this.ws=o,this.subscriptions.add(o.connectionState$.pipe(P.skip(1),P.filter(a=>a===or.ConnectionState.DISCONNECTED&&!this.destroyed),P.delay(5e3),P.filter(a=>!this.destroyed),P.flatMap(a=>o.connect()),P.retry()).subscribe()),this.subscriptions.add(o.connectionState$.pipe(P.skip(2),P.switchMap(a=>re.iif(()=>a===or.ConnectionState.CONNECTED,this.authenticate().pipe(P.tap(l=>this.sendIsLinked()),P.tap(l=>this.sendGetSessionConfig()),P.map(l=>!0)),re.of(!1))),P.distinctUntilChanged(),P.catchError(a=>re.of(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe(P.skip(1),P.switchMap(a=>re.iif(()=>a===or.ConnectionState.CONNECTED,re.timer(0,vo)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe(P.filter(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe(P.filter(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{const l=a;this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe(P.filter(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{const l=a;this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect().subscribe()}destroy(){this.subscriptions.unsubscribe(),this.ws.disconnect(),this.destroyed=!0}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe(P.filter(t=>t),P.take(1),P.map(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe(P.filter(t=>t),P.take(1),P.map(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe(P.filter(t=>{if(t.type!=="Event")return!1;const e=t;return typeof e.sessionId=="string"&&typeof e.eventId=="string"&&typeof e.event=="string"&&typeof e.data=="string"}),P.map(t=>t))}setSessionMetadata(t,e){const r=Nn.ClientMessageSetSessionConfig({id:sn.IntNumber(this.nextReqId++),sessionId:this.sessionId,metadata:{[t]:e}});return this.onceConnected$.pipe(P.flatMap(i=>this.makeRequest(r)),P.map(i=>{if($r.isServerMessageFail(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(t,e,r=!1){const i=Nn.ClientMessagePublishEvent({id:sn.IntNumber(this.nextReqId++),sessionId:this.sessionId,event:t,data:e,callWebhook:r});return this.onceLinked$.pipe(P.flatMap(o=>this.makeRequest(i)),P.map(o=>{if($r.isServerMessageFail(o))throw new Error(o.error||"failed to publish event");return o.eventId}))}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>vo*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(t,e=xp){const r=t.id;try{this.sendData(t)}catch(i){return re.throwError(i)}return this.ws.incomingJSONData$.pipe(P.timeoutWith(e,re.throwError(new Error(`request ${r} timed out`))),P.filter(i=>i.id===r),P.take(1))}authenticate(){const t=Nn.ClientMessageHostSession({id:sn.IntNumber(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(t).pipe(P.map(e=>{if($r.isServerMessageFail(e))throw new Error(e.error||"failed to authentcate")}))}sendIsLinked(){const t=Nn.ClientMessageIsLinked({id:sn.IntNumber(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}sendGetSessionConfig(){const t=Nn.ClientMessageGetSessionConfig({id:sn.IntNumber(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}}Ai.WalletLinkConnection=Sp;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});class kp{constructor(t){this.scope=t}setItem(t,e){localStorage.setItem(this.scopedKey(t),e)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),e=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(t)&&e.push(i)}e.forEach(r=>localStorage.removeItem(r))}scopedKey(t){return`${this.scope}:${t}`}}Di.ScopedLocalStorage=kp;var Tr={},Mp=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tr,"__esModule",{value:!0});const ni=Mp(mn);function Ep(n,t){const e=ni.default.randomBytes(12),r=ni.default.createCipheriv("aes-256-gcm",Buffer.from(t,"hex"),e),i=Buffer.concat([r.update(Buffer.from(n,"utf8")),r.final()]);return Buffer.concat([e,r.getAuthTag(),i]).toString("hex")}Tr.encrypt=Ep;function Tp(n,t){const e=Buffer.from(n,"hex"),r=e.slice(0,12),i=e.slice(12,28),o=e.slice(28),a=ni.default.createDecipheriv("aes-256-gcm",Buffer.from(t,"hex"),r);return a.setAuthTag(i),Buffer.concat([a.update(o),a.final()]).toString("utf8")}Tr.decrypt=Tp;var Pi={},Cp=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pi,"__esModule",{value:!0});const Ur=Cp(mn),Ip=Yn,go=Er,sr="session:id",qr="session:secret",Vr="session:linked";class Bi{constructor(t,e,r,i){this._storage=t,this._id=e||Ur.default.randomBytes(16).toString("hex"),this._secret=r||Ur.default.randomBytes(32).toString("hex"),this._key=Ur.default.createHash("sha256").update(`${this._id}, ${this._secret} WalletLink`,"ascii").digest("hex"),this._linked=!!i}static load(t){const e=t.getItem(sr),r=t.getItem(Vr),i=t.getItem(qr);return e&&i?new Bi(t,e,i,r==="1"):null}static clear(t){t.removeItem(qr),t.removeItem(sr),t.removeItem(Vr)}static get persistedSessionIdChange$(){return Ip.fromEvent(window,"storage").pipe(go.filter(t=>t.key===sr),go.map(t=>({oldValue:t.oldValue||null,newValue:t.newValue||null})))}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(sr,this._id),this._storage.setItem(qr,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Vr,this._linked?"1":"0")}}Pi.Session=Bi;var Li={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.requestEthereumAccounts="requestEthereumAccounts",t.signEthereumMessage="signEthereumMessage",t.signEthereumTransaction="signEthereumTransaction",t.submitEthereumTransaction="submitEthereumTransaction",t.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",t.scanQRCode="scanQRCode",t.arbitrary="arbitrary"}(n.Web3Method||(n.Web3Method={}))})(Li);var Fi={},Cr={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.SESSION_ID_REQUEST="SESSION_ID_REQUEST",t.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.WEB3_REQUEST="WEB3_REQUEST",t.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",t.WEB3_RESPONSE="WEB3_RESPONSE"}(n.RelayMessageType||(n.RelayMessageType={}))})(Cr);Object.defineProperty(Fi,"__esModule",{value:!0});const Op=Cr;function Np(n){return{type:Op.RelayMessageType.WEB3_REQUEST_CANCELED,id:n}}Fi.Web3RequestCanceledMessage=Np;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const Ap=Cr;function Rp(n){return Object.assign({type:Ap.RelayMessageType.WEB3_REQUEST},n)}ji.Web3RequestMessage=Rp;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});const na=Li;function Dp(n,t){return{method:n,errorMessage:t}}tr.ErrorResponse=Dp;function Pp(n){return{method:na.Web3Method.requestEthereumAccounts,result:n}}tr.RequestEthereumAccountsResponse=Pp;function Bp(n){return n&&n.method===na.Web3Method.requestEthereumAccounts}tr.isRequestEthereumAccountsResponse=Bp;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const ra=Cr;function Lp(n){return Object.assign({type:ra.RelayMessageType.WEB3_RESPONSE},n)}Ir.Web3ResponseMessage=Lp;function Fp(n){return n&&n.type===ra.RelayMessageType.WEB3_RESPONSE}Ir.isWeb3ResponseMessage=Fp;var ia=$&&$.__decorate||function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wi=$&&$.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},jp=$&&$.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t};Object.defineProperty(ai,"__esModule",{value:!0});const oa=Wi(xr),Wp=Wi(mn),$p=Yn,ar=Er,Up=Wi(la),qp=mi,Vp=Oi,zp=Ai,Hp=Di,Zt=Ct,mo=jp(Tr),yo=Pi,le=Li,Kp=Fi,Gp=ji,wo=tr,zr=Ir;class te{constructor(t){this.appName="",this.appLogoUrl=null,this.attached=!1,this.walletLinkUrl=t.walletLinkUrl;const e=Up.default.parse(this.walletLinkUrl);this.walletLinkOrigin=`${e.protocol}//${e.host}`,this.storage=new Hp.ScopedLocalStorage(`-walletlink:${this.walletLinkOrigin}`),this.session=yo.Session.load(this.storage)||new yo.Session(this.storage).save(),this.connection=new zp.WalletLinkConnection(this.session.id,this.session.key,this.walletLinkUrl),this.connection.incomingEvent$.pipe(ar.filter(r=>r.event==="Web3Response")).subscribe({next:this.handleIncomingEvent}),this.connection.sessionConfig$.pipe(ar.filter(r=>!!r.metadata&&r.metadata.__destroyed==="1")).subscribe({next:this.resetAndReload}),this.snackbar=new Vp.Snackbar({darkMode:t.darkMode}),this.linkFlow=new qp.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:this.session.id,sessionSecret:this.session.secret,walletLinkUrl:this.walletLinkUrl,connected$:this.connection.connected$}),this.connection.connect()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe(ar.timeout(1e3),ar.catchError(t=>$p.of(null))).subscribe(t=>{this.connection.destroy(),this.storage.clear(),document.location.reload()})}setAppInfo(t,e){this.appName=t,this.appLogoUrl=e}attach(t){if(this.attached)throw new Error("WalletLinkRelay is already attached");const e=document.createElement("div");e.className="-walletlink-css-reset",t.appendChild(e),this.linkFlow.attach(e),this.snackbar.attach(e)}getStorageItem(t){return this.storage.getItem(t)}setStorageItem(t,e){this.storage.setItem(t,e)}requestEthereumAccounts(){return this.sendRequest({method:le.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}})}signEthereumMessage(t,e,r,i){return this.sendRequest({method:le.Web3Method.signEthereumMessage,params:{message:Zt.hexStringFromBuffer(t,!0),address:e,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,e,r){return this.sendRequest({method:le.Web3Method.ethereumAddressFromSignedMessage,params:{message:Zt.hexStringFromBuffer(t,!0),signature:Zt.hexStringFromBuffer(e,!0),addPrefix:r}})}signEthereumTransaction(t){return this.sendRequest({method:le.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:Zt.bigIntStringFromBN(t.weiValue),data:Zt.hexStringFromBuffer(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?Zt.bigIntStringFromBN(t.gasPriceInWei):null,gasLimit:t.gasLimit?Zt.bigIntStringFromBN(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:le.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:Zt.bigIntStringFromBN(t.weiValue),data:Zt.hexStringFromBuffer(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?Zt.bigIntStringFromBN(t.gasPriceInWei):null,gasLimit:t.gasLimit?Zt.bigIntStringFromBN(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,e){return this.sendRequest({method:le.Web3Method.submitEthereumTransaction,params:{signedTransaction:Zt.hexStringFromBuffer(t,!0),chainId:e}})}scanQRCode(t){return this.sendRequest({method:le.Web3Method.scanQRCode,params:{regExp:t}})}arbitraryRequest(t){return this.sendRequest({method:le.Web3Method.arbitrary,params:{data:t}})}sendRequest(t){return new Promise((e,r)=>{let i=null;const o=Wp.default.randomBytes(8).toString("hex"),a=t.method===le.Web3Method.requestEthereumAccounts,l=()=>{this.publishWeb3RequestCanceledEvent(o),this.handleWeb3ResponseMessage(zr.Web3ResponseMessage({id:o,response:wo.ErrorResponse(t.method,"User rejected request")})),i==null||i()};if(a)this.linkFlow.open({onCancel:l}),te.accountRequestCallbackIds.add(o);else{const b={message:"Pushed a request to your wallet...",showProgressBar:!0,actions:[{info:"Made a mistake?",buttonLabel:"Cancel",onClick:l},{info:"Not receiving requests?",buttonLabel:"Reset Connection",onClick:this.resetAndReload}]};i=this.snackbar.presentItem(b)}te.callbacks.set(o,b=>{if(this.linkFlow.close(),i==null||i(),b.errorMessage)return r(new Error(b.errorMessage));e(b)}),this.publishWeb3RequestEvent(o,t)})}publishWeb3RequestEvent(t,e){const r=Gp.Web3RequestMessage({id:t,request:e});this.publishEvent("Web3Request",r,!0).subscribe({error:i=>{this.handleWeb3ResponseMessage(zr.Web3ResponseMessage({id:r.id,response:{method:r.request.method,errorMessage:i.message}}))}})}publishWeb3RequestCanceledEvent(t){const e=Kp.Web3RequestCanceledMessage(t);this.publishEvent("Web3RequestCanceled",e,!1).subscribe()}publishEvent(t,e,r){const i=mo.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{origin:location.origin})),this.session.secret);return this.connection.publishEvent(t,i,r)}handleIncomingEvent(t){let e;try{e=JSON.parse(mo.decrypt(t.data,this.session.secret))}catch{return}const r=zr.isWeb3ResponseMessage(e)?e:null;r&&this.handleWeb3ResponseMessage(r)}handleWeb3ResponseMessage(t){const{response:e}=t;if(wo.isRequestEthereumAccountsResponse(e)){Array.from(te.accountRequestCallbackIds.values()).forEach(r=>this.invokeCallback(Object.assign(Object.assign({},t),{id:r}))),te.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}invokeCallback(t){const e=te.callbacks.get(t.id);e&&(e(t.response),te.callbacks.delete(t.id))}}te.callbacks=new Map;te.accountRequestCallbackIds=new Set;ia([oa.default],te.prototype,"resetAndReload",null);ia([oa.default],te.prototype,"handleIncomingEvent",null);ai.WalletLinkRelay=te;const Qp="walletlink",Yp="2.0.2",Jp="WalletLink JavaScript SDK",Zp=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Xp="dist/index.js",t0="dist/index.d.ts",e0="https://github.com/walletlink/walletlink.git",n0="Coinbase, Inc.",r0="Apache-2.0",i0={tsc:"tsc --noEmit --pretty",test:"jest","test:watch":"jest --watch",build:"node compile-assets.js && webpack --config webpack.config.js","build-chrome":"webpack --config webpack.config.chrome.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --watch chrome/ --exec 'yarn build:dev'","build:prod":`yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ../README.md ../LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i '' 's|  "private": true,||g' build/npm/package.json`,lint:"tslint -p . 'src/**/*.ts{,x}'","lint:watch":"nodemon -e ts,tsx,js,json,css,scss,svg --watch src/ --exec 'yarn tsc && yarn lint'"},o0={"bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0",preact:"^10.3.3",rxjs:"^6.5.4"},s0={"@types/bn.js":"^4.11.6","@types/jest":"^25.1.3","@types/node":"^13.7.7","copy-webpack-plugin":"^5.1.1","core-js":"^3.6.4",glob:"^7.1.6",jest:"^25.1.0",nodemon:"^2.0.2","raw-loader":"^4.0.0","regenerator-runtime":"^0.13.3","rxjs-tslint":"^0.1.7",sass:"^1.26.2",svgo:"^1.3.2","ts-jest":"^25.2.1","ts-loader":"^6.2.1",tslib:"^1.11.1",tslint:"^6.0.0","tslint-config-prettier":"^1.18.0","tslint-config-security":"^1.16.0","tslint-microsoft-contrib":"^6.2.0",typescript:"^3.8.3",webpack:"^4.42.0","webpack-cli":"^3.3.11","whatwg-fetch":"^3.0.0"},a0={node:">= 10.0.0"},u0={transform:{"^.+\\.tsx?$":"ts-jest"},testEnvironment:"node",testPathIgnorePatterns:["<rootDir>/dist/","<rootDir>/node_modules/"],testRegex:"(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$",moduleFileExtensions:["ts","js","json"]},c0={name:Qp,version:Yp,description:Jp,keywords:Zp,main:Xp,types:t0,repository:e0,author:n0,license:r0,scripts:i0,dependencies:o0,devDependencies:s0,engines:a0,jest:u0};var sa={};Object.defineProperty(_r,"__esModule",{value:!0});const l0=oi,h0=Un,f0=ai,d0=Ct,p0=sa.WALLETLINK_URL||"https://www.walletlink.org",aa=sa.WALLETLINK_VERSION||c0.version||"unknown";let ua=class{constructor(t){this._appName="",this._appLogoUrl=null,this._relay=new f0.WalletLinkRelay({walletLinkUrl:t.walletLinkUrl||p0,version:aa,darkMode:!!t.darkMode}),this.setAppInfo(t.appName,t.appLogoUrl),this._relay.attach(document.documentElement),l0.injectCssReset()}makeWeb3Provider(t,e=1){return new h0.WalletLinkProvider({relay:this._relay,jsonRpcUrl:t,chainId:e})}setAppInfo(t,e){this._appName=t||"DApp",this._appLogoUrl=e||d0.getFavicon(),this._relay.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){this._relay.resetAndReload()}};_r.WalletLink=ua;ua.VERSION=aa;Object.defineProperty($n,"__esModule",{value:!0});const b0=Un,ca=_r;var v0=Un,g0=$n.WalletLinkProvider=v0.WalletLinkProvider,m0=_r,y0=$n.WalletLink=m0.WalletLink,w0=$n.default=ca.WalletLink;typeof window<"u"&&(window.WalletLink=ca.WalletLink,window.WalletLinkProvider=b0.WalletLinkProvider);const M0=ha({__proto__:null,WalletLink:y0,WalletLinkProvider:g0,default:w0},[$n]);export{M0 as i};
